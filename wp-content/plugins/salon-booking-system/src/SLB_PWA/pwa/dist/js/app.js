(function(){var e={6700:function(e,t,s){var a={"./af":3906,"./af.js":3906,"./ar":902,"./ar-dz":3853,"./ar-dz.js":3853,"./ar-kw":299,"./ar-kw.js":299,"./ar-ly":6825,"./ar-ly.js":6825,"./ar-ma":6379,"./ar-ma.js":6379,"./ar-sa":7700,"./ar-sa.js":7700,"./ar-tn":2059,"./ar-tn.js":2059,"./ar.js":902,"./az":6043,"./az.js":6043,"./be":7936,"./be.js":7936,"./bg":4078,"./bg.js":4078,"./bm":4014,"./bm.js":4014,"./bn":9554,"./bn-bd":7114,"./bn-bd.js":7114,"./bn.js":9554,"./bo":6529,"./bo.js":6529,"./br":5437,"./br.js":5437,"./bs":9647,"./bs.js":9647,"./ca":9951,"./ca.js":9951,"./cs":6113,"./cs.js":6113,"./cv":7965,"./cv.js":7965,"./cy":5858,"./cy.js":5858,"./da":3515,"./da.js":3515,"./de":2831,"./de-at":6263,"./de-at.js":6263,"./de-ch":1127,"./de-ch.js":1127,"./de.js":2831,"./dv":4510,"./dv.js":4510,"./el":8616,"./el.js":8616,"./en-au":4595,"./en-au.js":4595,"./en-ca":3545,"./en-ca.js":3545,"./en-gb":9609,"./en-gb.js":9609,"./en-ie":3727,"./en-ie.js":3727,"./en-il":3302,"./en-il.js":3302,"./en-in":6305,"./en-in.js":6305,"./en-nz":9128,"./en-nz.js":9128,"./en-sg":4569,"./en-sg.js":4569,"./eo":650,"./eo.js":650,"./es":6358,"./es-do":4214,"./es-do.js":4214,"./es-mx":8639,"./es-mx.js":8639,"./es-us":232,"./es-us.js":232,"./es.js":6358,"./et":7279,"./et.js":7279,"./eu":5515,"./eu.js":5515,"./fa":7981,"./fa.js":7981,"./fi":7090,"./fi.js":7090,"./fil":9208,"./fil.js":9208,"./fo":2799,"./fo.js":2799,"./fr":3463,"./fr-ca":2213,"./fr-ca.js":2213,"./fr-ch":2848,"./fr-ch.js":2848,"./fr.js":3463,"./fy":1468,"./fy.js":1468,"./ga":8163,"./ga.js":8163,"./gd":2898,"./gd.js":2898,"./gl":6312,"./gl.js":6312,"./gom-deva":682,"./gom-deva.js":682,"./gom-latn":9178,"./gom-latn.js":9178,"./gu":5009,"./gu.js":5009,"./he":2795,"./he.js":2795,"./hi":7009,"./hi.js":7009,"./hr":6506,"./hr.js":6506,"./hu":9565,"./hu.js":9565,"./hy-am":3864,"./hy-am.js":3864,"./id":5626,"./id.js":5626,"./is":6649,"./is.js":6649,"./it":151,"./it-ch":5348,"./it-ch.js":5348,"./it.js":151,"./ja":9830,"./ja.js":9830,"./jv":3751,"./jv.js":3751,"./ka":3365,"./ka.js":3365,"./kk":5980,"./kk.js":5980,"./km":9571,"./km.js":9571,"./kn":5880,"./kn.js":5880,"./ko":6809,"./ko.js":6809,"./ku":6773,"./ku.js":6773,"./ky":5505,"./ky.js":5505,"./lb":553,"./lb.js":553,"./lo":1237,"./lo.js":1237,"./lt":1563,"./lt.js":1563,"./lv":1057,"./lv.js":1057,"./me":6495,"./me.js":6495,"./mi":3096,"./mi.js":3096,"./mk":3874,"./mk.js":3874,"./ml":6055,"./ml.js":6055,"./mn":7747,"./mn.js":7747,"./mr":7113,"./mr.js":7113,"./ms":8687,"./ms-my":7948,"./ms-my.js":7948,"./ms.js":8687,"./mt":4532,"./mt.js":4532,"./my":4655,"./my.js":4655,"./nb":6961,"./nb.js":6961,"./ne":2512,"./ne.js":2512,"./nl":8448,"./nl-be":2936,"./nl-be.js":2936,"./nl.js":8448,"./nn":9031,"./nn.js":9031,"./oc-lnc":5174,"./oc-lnc.js":5174,"./pa-in":118,"./pa-in.js":118,"./pl":3448,"./pl.js":3448,"./pt":3518,"./pt-br":2447,"./pt-br.js":2447,"./pt.js":3518,"./ro":817,"./ro.js":817,"./ru":262,"./ru.js":262,"./sd":8990,"./sd.js":8990,"./se":3842,"./se.js":3842,"./si":7711,"./si.js":7711,"./sk":756,"./sk.js":756,"./sl":3772,"./sl.js":3772,"./sq":6187,"./sq.js":6187,"./sr":732,"./sr-cyrl":5713,"./sr-cyrl.js":5713,"./sr.js":732,"./ss":9455,"./ss.js":9455,"./sv":9770,"./sv.js":9770,"./sw":959,"./sw.js":959,"./ta":6459,"./ta.js":6459,"./te":5302,"./te.js":5302,"./tet":7975,"./tet.js":7975,"./tg":1294,"./tg.js":1294,"./th":2385,"./th.js":2385,"./tk":4613,"./tk.js":4613,"./tl-ph":8668,"./tl-ph.js":8668,"./tlh":8190,"./tlh.js":8190,"./tr":4506,"./tr.js":4506,"./tzl":3440,"./tzl.js":3440,"./tzm":9852,"./tzm-latn":2350,"./tzm-latn.js":2350,"./tzm.js":9852,"./ug-cn":730,"./ug-cn.js":730,"./uk":99,"./uk.js":99,"./ur":2100,"./ur.js":2100,"./uz":6002,"./uz-latn":6322,"./uz-latn.js":6322,"./uz.js":6002,"./vi":4207,"./vi.js":4207,"./x-pseudo":4674,"./x-pseudo.js":4674,"./yo":570,"./yo.js":570,"./zh-cn":3644,"./zh-cn.js":3644,"./zh-hk":2591,"./zh-hk.js":2591,"./zh-mo":9503,"./zh-mo.js":9503,"./zh-tw":8080,"./zh-tw.js":8080};function o(e){var t=i(e);return s(t)}function i(e){if(!s.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}o.keys=function(){return Object.keys(a)},o.resolve=i,e.exports=o,o.id=6700},4107:function(e,t,s){"use strict";var a=s(9242),o=s(3396);function i(e,t,s,a,i,l){const n=(0,o.up)("TabsList"),r=(0,o.up)("PWAPrompt");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(n,{onApplyShop:l.applyShop},null,8,["onApplyShop"]),(0,o.Wm)(r)])}function l(e,t,s,i,l,n){const r=(0,o.up)("font-awesome-icon"),d=(0,o.up)("ShopsTab"),u=(0,o.up)("b-tab"),c=(0,o.up)("ShopTitle"),m=(0,o.up)("UpcomingReservationsTab"),h=(0,o.up)("ReservationsCalendarTab"),p=(0,o.up)("CustomersAddressBookTab"),b=(0,o.up)("b-tabs");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(b,{pills:"",card:"",end:""},{default:(0,o.w5)((()=>[(0,o.wy)((0,o.Wm)(u,{active:n.isActiveTab("#shops"),"title-item-class":{hide:!e.isShopsEnabled}},{title:(0,o.w5)((()=>[(0,o._)("span",{onClick:t[0]||(t[0]=e=>n.click("#shops"))},[(0,o.Wm)(r,{icon:"fa-solid fa-store"})])])),default:(0,o.w5)((()=>[(0,o.Wm)(d,{onShopsEnabled:n.shopsEnable,onApplyShop:n.applyShop},null,8,["onShopsEnabled","onApplyShop"])])),_:1},8,["active","title-item-class"]),[[a.F8,e.isShopsEnabled]]),(0,o.Wm)(u,{active:n.isActiveTab("#upcoming-reservations")},{title:(0,o.w5)((()=>[(0,o._)("span",{onClick:t[1]||(t[1]=e=>n.click("#upcoming-reservations")),ref:"upcoming-reservations-tab-link"},[(0,o.Wm)(r,{icon:"fa-solid fa-list"})],512)])),default:(0,o.w5)((()=>[(0,o.Wm)(c,{shop:e.shop},null,8,["shop"]),(0,o.Wm)(m,{shop:e.shop},null,8,["shop"])])),_:1},8,["active"]),(0,o.Wm)(u,{active:n.isActiveTab("#reservations-calendar")},{title:(0,o.w5)((()=>[(0,o._)("span",{onClick:t[2]||(t[2]=e=>n.click("#reservations-calendar"))},[(0,o.Wm)(r,{icon:"fa-solid fa-calendar-days"})])])),default:(0,o.w5)((()=>[(0,o.Wm)(c,{shop:e.shop},null,8,["shop"]),(0,o.Wm)(h,{shop:e.shop},null,8,["shop"])])),_:1},8,["active"]),(0,o.Wm)(u,{active:n.isActiveTab("#customers")},{title:(0,o.w5)((()=>[(0,o._)("span",{onClick:t[3]||(t[3]=e=>n.click("#customers"))},[(0,o.Wm)(r,{icon:"fa-regular fa-address-book"})])])),default:(0,o.w5)((()=>[(0,o.Wm)(c,{shop:e.shop},null,8,["shop"]),(0,o.Wm)(p,{shop:e.shop},null,8,["shop"])])),_:1},8,["active"])])),_:1})])}function n(e,t,s,i,l,n){const r=(0,o.up)("CustomersAddressBook"),d=(0,o.up)("EditBookingItem"),u=(0,o.up)("BookingDetails"),c=(0,o.up)("UpcomingReservations");return(0,o.wg)(),(0,o.iD)("div",null,[e.isChooseCustomer?((0,o.wg)(),(0,o.j4)(r,{key:0,onCloseChooseCustomer:n.closeChooseCustomer,chooseCustomerAvailable:!0,onChoose:n.choose,shop:e.item.shop},null,8,["onCloseChooseCustomer","onChoose","shop"])):e.editItem?((0,o.wg)(),(0,o.j4)(d,{key:1,booking:e.item,customer:e.customer,onClose:n.closeEditItem,onChooseCustomer:n.chooseCustomer},null,8,["booking","customer","onClose","onChooseCustomer"])):e.showItem?((0,o.wg)(),(0,o.j4)(u,{key:2,booking:e.item,onClose:n.closeShowItem,onEdit:n.setEditItem},null,8,["booking","onClose","onEdit"])):(0,o.kq)("",!0),(0,o.wy)((0,o.Wm)(c,{onShowItem:n.setShowItem,shop:s.shop},null,8,["onShowItem","shop"]),[[a.F8,!e.showItem]])])}var r=s(7139);const d={class:"title"},u={class:"search"},c={class:"hours"},m={class:"attendants"},h={class:"bookings-list"},p={key:2,class:"no-result"};function b(e,t,s,a,i,l){const n=(0,o.up)("font-awesome-icon"),b=(0,o.up)("b-form-input"),v=(0,o.up)("b-button"),f=(0,o.up)("b-col"),g=(0,o.up)("b-row"),k=(0,o.up)("b-spinner"),w=(0,o.up)("BookingItem");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("h5",d,(0,r.zw)(e.$t("upcomingReservationsTitle")),1),(0,o._)("div",u,[(0,o.Wm)(n,{icon:"fa-solid fa-magnifying-glass",class:"search-icon"}),(0,o.Wm)(b,{modelValue:e.search,"onUpdate:modelValue":t[0]||(t[0]=t=>e.search=t),class:"search-input"},null,8,["modelValue"]),e.search?((0,o.wg)(),(0,o.j4)(n,{key:0,icon:"fa-solid fa-circle-xmark",class:"clear",onClick:t[1]||(t[1]=t=>e.search="")})):(0,o.kq)("",!0)]),(0,o.Wm)(g,null,{default:(0,o.w5)((()=>[(0,o.Wm)(f,{sm:"12"},{default:(0,o.w5)((()=>[(0,o._)("div",c,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.hours,(t=>((0,o.wg)(),(0,o.j4)(v,{key:t.hours,onClick:s=>e.hourValue=t.hours,pressed:e.hourValue===t.hours,variant:"outline-primary"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,r.zw)(t.label),1)])),_:2},1032,["onClick","pressed"])))),128))])])),_:1})])),_:1}),(0,o.Wm)(g,null,{default:(0,o.w5)((()=>[(0,o.Wm)(f,{sm:"12"},{default:(0,o.w5)((()=>[(0,o._)("div",m,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.attendants,(t=>((0,o.wg)(),(0,o.j4)(v,{key:t.id,variant:"outline-primary",pressed:e.filterAttendant===t.id,onClick:s=>e.filterAttendant===t.id?e.filterAttendant="":e.filterAttendant=t.id},{default:(0,o.w5)((()=>[(0,o.Uk)((0,r.zw)(t.name),1)])),_:2},1032,["pressed","onClick"])))),128))])])),_:1})])),_:1}),(0,o._)("div",h,[e.isLoading?((0,o.wg)(),(0,o.j4)(k,{key:0,variant:"primary"})):l.filteredBookingsList.length>0?((0,o.wg)(!0),(0,o.iD)(o.HY,{key:1},(0,o.Ko)(l.filteredBookingsList,(e=>((0,o.wg)(),(0,o.j4)(w,{key:e.id,booking:e,onDeleteItem:t=>l.deleteItem(e.id),onShowDetails:t=>l.showDetails(e)},null,8,["booking","onDeleteItem","onShowDetails"])))),128)):((0,o.wg)(),(0,o.iD)("span",p,(0,r.zw)(e.$t("upcomingReservationsNoResultLabel")),1))])])}const v={class:"booking"},f={class:"customer-info-status-customer-wrapper"},g={class:"customer"},k={class:"id"},w={class:"booking-info-date-time-wrapper"},_={class:"date"},L={class:"time"},y={class:"total"},S=["innerHTML"],T={class:"booking-assistant-info"},C={class:"delete"},A={class:"details-link"},W={class:"delete-btn-wrapper"},D={class:"delete-btn-wrapper-text"};function P(e,t,s,i,l,n){const d=(0,o.up)("b-col"),u=(0,o.up)("b-row"),c=(0,o.up)("font-awesome-icon"),m=(0,o.up)("b-button");return(0,o.wg)(),(0,o.j4)(u,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"12",class:"booking-wrapper"},{default:(0,o.w5)((()=>[(0,o._)("div",v,[(0,o.Wm)(u,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"12",class:"customer-info"},{default:(0,o.w5)((()=>[(0,o._)("div",f,[(0,o._)("span",{class:"status",style:(0,r.j5)("background-color:"+n.statusColor)},null,4),(0,o._)("span",g,(0,r.zw)(n.customer),1)]),(0,o._)("span",k,(0,r.zw)(n.id),1)])),_:1})])),_:1}),(0,o.Wm)(u,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"12",class:"booking-info"},{default:(0,o.w5)((()=>[(0,o._)("div",w,[(0,o._)("span",_,(0,r.zw)(n.date),1),(0,o._)("span",L,(0,r.zw)(n.fromTime)+"-"+(0,r.zw)(n.toTime),1)]),(0,o._)("span",y,[(0,o._)("span",{innerHTML:n.totalSum},null,8,S)])])),_:1})])),_:1}),(0,o.Wm)(u,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"12"},{default:(0,o.w5)((()=>[(0,o._)("div",T,(0,r.zw)(n.assistants.map((e=>e.name)).join(" | ")),1)])),_:1})])),_:1}),(0,o.Wm)(u,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"12",class:"booking-actions-wrapper"},{default:(0,o.w5)((()=>[(0,o._)("span",C,[(0,o.Wm)(c,{icon:"fa-solid fa-trash",onClick:t[0]||(t[0]=t=>e.isDelete=!0)})]),(0,o._)("span",A,[(0,o.Wm)(c,{icon:"fa-solid fa-chevron-right",onClick:n.showDetails},null,8,["onClick"])])])),_:1})])),_:1})]),e.isDelete?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[(0,o._)("div",{class:"delete-backdrop",onClick:t[1]||(t[1]=t=>e.isDelete=!1)}),(0,o._)("div",W,[(0,o._)("p",D,(0,r.zw)(e.$t("deleteBookingConfirmText")),1),(0,o._)("p",null,[(0,o.Wm)(m,{variant:"primary",onClick:n.deleteItem,class:"delete-btn-wrapper-button"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,r.zw)(e.$t("deleteBookingButtonLabel")),1)])),_:1},8,["onClick"])]),(0,o._)("p",null,[(0,o._)("a",{href:"#",class:"delete-btn-wrapper-go-back",onClick:t[2]||(t[2]=(0,a.iM)((t=>e.isDelete=!1),["prevent"]))},(0,r.zw)(e.$t("deleteBookingGoBackLabel")),1)])])],64)):(0,o.kq)("",!0)])),_:1})])),_:1})}var B={name:"BookingItem",props:{booking:{default:function(){return{}}}},data:function(){return{isDelete:!1}},computed:{customer(){return this.booking.customer_first_name+" "+this.booking.customer_last_name},status(){return this.$root.statusesList[this.booking.status].label},statusColor(){return this.$root.statusesList[this.booking.status].color},date(){return this.dateFormat(this.booking.date)},fromTime(){return this.moment(this.booking.time,"HH:mm").format("HH.mm")},toTime(){return this.booking.services.length>0?this.moment(this.booking.services[this.booking.services.length-1].end_at,"HH:mm").format("HH.mm"):this.moment(this.booking.time,"HH:mm").format("HH.mm")},totalSum(){return this.booking.amount+" "+this.booking.currency},id(){return this.booking.id},assistants(){return this.booking.services.map((e=>({id:e.assistant_id,name:e.assistant_name}))).filter((e=>+e.id))}},methods:{deleteItem(){this.$emit("deleteItem"),this.isDelete=!1},showDetails(){this.$emit("showDetails")}},emits:["deleteItem","showDetails"]},j=s(89);const I=(0,j.Z)(B,[["render",P],["__scopeId","data-v-0eb8a5f3"]]);var z=I,x={name:"UpcomingReservations",props:{shop:{default:function(){return{}}}},data:function(){return{hours:[{label:this.$t("label8Hours"),hours:8},{label:this.$t("label24Hours"),hours:24},{label:this.$t("label3Days"),hours:72},{label:this.$t("label1Week"),hours:168}],hourValue:8,bookingsList:[],isLoading:!1,filterAttendant:"",search:"",timeout:null}},mounted(){this.load()},components:{BookingItem:z},watch:{hourValue(e){e&&this.load()},search(e){e?(this.hourValue="",this.loadSearch()):this.hourValue=8},shop(){this.load()}},computed:{attendants(){var e={};return e[0]={id:"",name:this.$t("allTitle")},this.bookingsList.forEach((t=>{t.services.forEach((t=>{t.assistant_id>0&&(e[t.assistant_id]={id:t.assistant_id,name:t.assistant_name})}))})),Object.values(e).length>1?Object.values(e):[]},filteredBookingsList(){return this.bookingsList.filter((e=>{var t=!1;return e.services.forEach((e=>{this.filterAttendant===e.assistant_id&&(t=!0)})),""===this.filterAttendant||t}))}},methods:{deleteItem(e){this.axios.delete("bookings/"+e).then((()=>{this.bookingsList=this.bookingsList.filter((t=>t.id!==e))}))},showDetails(e){this.$emit("showItem",e)},load(){this.isLoading=!0,this.bookingsList=[],this.axios.get("bookings/upcoming",{params:{hours:this.hourValue,shop:this.shop?this.shop.id:null}}).then((e=>{this.bookingsList=e.data.items})).finally((()=>{this.isLoading=!1}))},loadSearch(){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout((()=>{this.isLoading=!0,this.bookingsList=[],this.axios.get("bookings",{params:{search:this.search,per_page:-1,order_by:"date_time",order:"asc",start_date:this.moment().format("YYYY-MM-DD"),shop:this.shop?this.shop.id:null}}).then((e=>{this.bookingsList=e.data.items})).finally((()=>{this.isLoading=!1}))}),1e3)}},emits:["showItem"]};const E=(0,j.Z)(x,[["render",b],["__scopeId","data-v-34757f14"]]);var M=E;const R=e=>((0,o.dD)("data-v-7646a504"),e=e(),(0,o.Cn)(),e),Y={class:"booking-details-customer-info"},H={class:"date"},V=R((()=>(0,o._)("br",null,null,-1))),N={class:"time"},$=R((()=>(0,o._)("br",null,null,-1))),F={class:"customer-firstname"},U={class:"customer-lastname"},q={class:"customer-email"},O={class:"customer-phone"},Z={key:0,class:"customer-phone-actions"},G=["href"],K=["href"],J=["href"],Q={class:"booking-details-extra-info"},X={class:"booking-details-extra-info-header"},ee={class:"booking-details-extra-info-header-title"},te=["aria-expanded"],se=R((()=>(0,o._)("br",null,null,-1))),ae={class:"booking-details-total-info"},oe={class:"service"},ie=["innerHTML"],le=(0,o.Uk)("]"),ne={class:"attendant"},re={class:"total"},de=["innerHTML"],ue={class:"transaction-id"},ce={class:"discount"},me={class:"deposit"},he={class:"due"},pe={class:"booking-details-status-info"};function be(e,t,s,i,l,n){const d=(0,o.up)("b-col"),u=(0,o.up)("font-awesome-icon"),c=(0,o.up)("b-row"),m=(0,o.up)("b-collapse"),h=(0,o.up)("b-button");return(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("h5",null,(0,r.zw)(e.$t("bookingDetailsTitle")),1),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"12"},{default:(0,o.w5)((()=>[(0,o._)("div",Y,[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"10"}),(0,o.Wm)(d,{sm:"2",class:"actions"},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{icon:"fa-solid fa-circle-xmark",onClick:n.close},null,8,["onClick"])])),_:1})])),_:1}),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"6"},{default:(0,o.w5)((()=>[(0,o._)("div",H,[(0,o._)("span",null,(0,r.zw)(e.$t("dateTitle")),1),V,(0,o.Wm)(u,{icon:"fa-solid fa-calendar-days"}),(0,o.Uk)(" "+(0,r.zw)(n.date),1)])])),_:1}),(0,o.Wm)(d,{sm:"6"},{default:(0,o.w5)((()=>[(0,o._)("div",N,[(0,o._)("span",null,(0,r.zw)(e.$t("timeTitle")),1),$,(0,o.Wm)(u,{icon:"fa-regular fa-clock"}),(0,o.Uk)(" "+(0,r.zw)(n.time),1)])])),_:1})])),_:1}),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"12"},{default:(0,o.w5)((()=>[(0,o._)("div",F,(0,r.zw)(n.customerFirstname),1)])),_:1})])),_:1}),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"12"},{default:(0,o.w5)((()=>[(0,o._)("div",U,(0,r.zw)(n.customerLastname),1)])),_:1})])),_:1}),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"12"},{default:(0,o.w5)((()=>[(0,o._)("div",q,(0,r.zw)(n.customerEmail),1)])),_:1})])),_:1}),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"12"},{default:(0,o.w5)((()=>[(0,o._)("div",O,[(0,o.Uk)((0,r.zw)(n.customerPhone)+" ",1),n.customerPhone?((0,o.wg)(),(0,o.iD)("span",Z,[(0,o._)("a",{href:"tel:"+n.customerPhone,class:"phone"},[(0,o.Wm)(u,{icon:"fa-solid fa-phone"})],8,G),(0,o._)("a",{href:"sms:"+n.customerPhone,class:"sms"},[(0,o.Wm)(u,{icon:"fa-solid fa-message"})],8,K),(0,o._)("a",{href:"https://wa.me/"+n.customerPhone,class:"whatsapp"},[(0,o.Wm)(u,{icon:"fa-brands fa-whatsapp"})],8,J)])):(0,o.kq)("",!0)])])),_:1})])),_:1})])])),_:1})])),_:1}),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"12"},{default:(0,o.w5)((()=>[(0,o._)("div",Q,[(0,o._)("div",X,[(0,o._)("div",ee,(0,r.zw)(e.$t("extraInfoLabel")),1),(0,o._)("div",null,[(0,o._)("span",{class:(0,r.C_)(["booking-details-extra-info-header-btn",e.visibleExtraInfo?null:"collapsed"]),"aria-expanded":e.visibleExtraInfo?"true":"false","aria-controls":"collapse-2",onClick:t[0]||(t[0]=t=>e.visibleExtraInfo=!e.visibleExtraInfo)},[e.visibleExtraInfo?((0,o.wg)(),(0,o.j4)(u,{key:1,icon:"fa-solid fa-circle-chevron-up"})):((0,o.wg)(),(0,o.j4)(u,{key:0,icon:"fa-solid fa-circle-chevron-down"}))],10,te)])]),(0,o.Wm)(m,{id:"collapse-2",class:"booking-details-extra-info-fields",modelValue:e.visibleExtraInfo,"onUpdate:modelValue":t[1]||(t[1]=t=>e.visibleExtraInfo=t)},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.customFieldsList,(e=>((0,o.wg)(),(0,o.j4)(c,{key:e.key,class:"booking-details-extra-info-field-row"},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"12"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,r.zw)(e.label)+":",1),se,(0,o._)("strong",null,(0,r.zw)(e.value),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1},8,["modelValue"])])])),_:1})])),_:1}),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"12"},{default:(0,o.w5)((()=>[(0,o._)("div",ae,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.services,((e,t)=>((0,o.wg)(),(0,o.j4)(c,{key:t},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"6"},{default:(0,o.w5)((()=>[(0,o._)("div",oe,[(0,o._)("strong",null,[(0,o.Uk)((0,r.zw)(e.service_name)+" [",1),(0,o._)("span",{innerHTML:e.service_price+s.booking.currency},null,8,ie),le])])])),_:2},1024),(0,o.Wm)(d,{sm:"6"},{default:(0,o.w5)((()=>[(0,o._)("div",ne,(0,r.zw)(e.assistant_name),1)])),_:2},1024)])),_:2},1024)))),128)),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"6"},{default:(0,o.w5)((()=>[(0,o._)("div",re,[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"6"},{default:(0,o.w5)((()=>[(0,o._)("strong",null,(0,r.zw)(e.$t("totalTitle")),1)])),_:1}),(0,o.Wm)(d,{sm:"6"},{default:(0,o.w5)((()=>[(0,o._)("strong",null,[(0,o._)("span",{innerHTML:n.totalSum},null,8,de)])])),_:1})])),_:1})])])),_:1}),(0,o.Wm)(d,{sm:"6"},{default:(0,o.w5)((()=>[(0,o._)("div",ue,[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"6"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,r.zw)(e.$t("transactionIdTitle")),1)])),_:1}),(0,o.Wm)(d,{sm:"6"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,r.zw)(n.transactionId),1)])),_:1})])),_:1})])])),_:1})])),_:1}),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"6"},{default:(0,o.w5)((()=>[(0,o._)("div",ce,[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"6"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,r.zw)(e.$t("discountTitle")),1)])),_:1}),(0,o.Wm)(d,{sm:"6",innerHTML:n.discount},null,8,["innerHTML"])])),_:1})])])),_:1}),(0,o.Wm)(d,{sm:"6"})])),_:1}),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"6"},{default:(0,o.w5)((()=>[(0,o._)("div",me,[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"6"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,r.zw)(e.$t("depositTitle")),1)])),_:1}),(0,o.Wm)(d,{sm:"6",innerHTML:n.deposit},null,8,["innerHTML"])])),_:1})])])),_:1}),(0,o.Wm)(d,{sm:"6"})])),_:1}),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"6"},{default:(0,o.w5)((()=>[(0,o._)("div",he,[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"6"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,r.zw)(e.$t("dueTitle")),1)])),_:1}),(0,o.Wm)(d,{sm:"6",innerHTML:n.due},null,8,["innerHTML"])])),_:1})])])),_:1}),(0,o.Wm)(d,{sm:"6"})])),_:1})])])),_:1})])),_:1}),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"12"},{default:(0,o.w5)((()=>[(0,o._)("div",pe,[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"6",class:"status"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,r.zw)(n.status),1)])),_:1}),(0,o.Wm)(d,{sm:"6"},{default:(0,o.w5)((()=>[(0,o.Wm)(h,{variant:"primary",onClick:n.edit},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{icon:"fa-solid fa-pen-to-square"}),(0,o.Uk)(" "+(0,r.zw)(e.$t("editButtonLabel")),1)])),_:1},8,["onClick"])])),_:1})])),_:1})])])),_:1})])),_:1})],512)),[[a.F8,e.show]])}var ve={name:"BookingDetails",props:{booking:{default:function(){return{}}}},computed:{date(){return this.dateFormat(this.booking.date)},time(){return this.timeFormat(this.booking.time)},customerFirstname(){return this.booking.customer_first_name},customerLastname(){return this.booking.customer_last_name},customerEmail(){return this.booking.customer_email},customerPhone(){return this.booking.customer_phone?this.booking.customer_phone_country_code+this.booking.customer_phone:""},services(){return this.booking.services},totalSum(){return this.booking.amount+this.booking.currency},transactionId(){return this.booking.transaction_id},discount(){return this.booking.discounts_details.length>0?this.booking.discounts_details.map((e=>e.name+" ("+e.amount_string+")")).join(", "):"-"},deposit(){return+this.booking.deposit>0?this.booking.deposit+this.booking.currency:"-"},due(){return+this.booking.amount-+this.booking.deposit+this.booking.currency},status(){return this.$root.statusesList[this.booking.status].label},customFieldsList(){return this.booking.custom_fields.filter((e=>-1===["html","file"].indexOf(e.type)))}},mounted(){this.toggleShow()},data:function(){return{show:!0,visibleExtraInfo:!1}},methods:{close(){this.$emit("close")},edit(){this.$emit("edit")},toggleShow(){this.show=!1,setTimeout((()=>{this.show=!0}),0)}},emits:["close","edit"]};const fe=(0,j.Z)(ve,[["render",be],["__scopeId","data-v-7646a504"]]);var ge=fe;function ke(e,t,s,i,l,n){const d=(0,o.up)("EditBooking");return(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("h5",null,(0,r.zw)(e.$t("editReservationTitle")),1),(0,o.Wm)(d,{bookingID:s.booking.id,date:s.booking.date,time:s.booking.time,customerID:s.customer?s.customer.id:s.booking.customer_id,customerFirstname:s.customer?s.customer.first_name:s.booking.customer_first_name,customerLastname:s.customer?s.customer.last_name:s.booking.customer_last_name,customerEmail:s.customer?s.customer.email:s.booking.customer_email,customerPhone:s.customer?s.customer.phone:s.booking.customer_phone,customerAddress:s.customer?s.customer.address:s.booking.customer_address,customerNotes:s.customer?s.customer.note:s.booking.note,services:s.booking.services,discounts:s.booking.discounts,status:s.booking.status,isLoading:e.isLoading,isSaved:e.isSaved,isError:e.isError,errorMessage:e.errorMessage,customFields:s.booking.custom_fields,shop:s.booking.shop,onClose:n.close,onChooseCustomer:n.chooseCustomer,onSave:n.save},null,8,["bookingID","date","time","customerID","customerFirstname","customerLastname","customerEmail","customerPhone","customerAddress","customerNotes","services","discounts","status","isLoading","isSaved","isError","errorMessage","customFields","shop","onClose","onChooseCustomer","onSave"])],512)),[[a.F8,e.show]])}const we=e=>((0,o.dD)("data-v-f18f55fc"),e=e(),(0,o.Cn)(),e),_e={class:"booking-details-customer-info"},Le={class:"date"},ye={class:"time"},Se=["onClick"],Te={class:"select-existing-client"},Ce={class:"customer-firstname"},Ae={class:"customer-lastname"},We={class:"customer-email"},De={class:"customer-address"},Pe={class:"customer-phone"},Be={class:"customer-notes"},je={class:"save-as-new-customer"},Ie={class:"booking-details-extra-info"},ze={class:"booking-details-extra-info-header"},xe={class:"booking-details-extra-info-header-title"},Ee=["aria-expanded"],Me={class:"booking-details-total-info"},Re={class:"service"},Ye={key:0,class:"option-item option-item-selected"},He={class:"name"},Ve={key:0},Ne={class:"service-name"},$e={class:"info"},Fe={class:"price"},Ue=["innerHTML"],qe=we((()=>(0,o._)("span",null," | ",-1))),Oe={class:"option-item"},Ze={class:"availability-wrapper"},Ge={class:"name"},Ke={key:0},Je={class:"service-name"},Qe={class:"info"},Xe={class:"price"},et=["innerHTML"],tt=we((()=>(0,o._)("span",null," | ",-1))),st={class:"vue-select-search"},at={class:"attendant"},ot={key:0,class:"option-item option-item-selected"},it={class:"name"},lt={class:"option-item"},nt={class:"availability-wrapper"},rt={class:"name"},dt={class:"vue-select-search"},ut={class:"add-service"},ct={class:"add-service-required"},mt={class:"booking-discount-info"},ht={class:"discount"},pt={class:"booking-details-status-info"};function bt(e,t,s,i,l,n){const d=(0,o.up)("b-col"),u=(0,o.up)("font-awesome-icon"),c=(0,o.up)("b-row"),m=(0,o.up)("b-input-group-text"),h=(0,o.up)("Datepicker"),p=(0,o.up)("b-input-group"),b=(0,o.up)("b-form-input"),v=(0,o.up)("b-button"),f=(0,o.up)("b-form-textarea"),g=(0,o.up)("b-form-checkbox"),k=(0,o.up)("CustomField"),w=(0,o.up)("b-collapse"),_=(0,o.up)("vue-select"),L=(0,o.up)("b-spinner"),y=(0,o.up)("b-alert"),S=(0,o.up)("b-form-select");return(0,o.wg)(),(0,o.iD)("div",{onClick:t[18]||(t[18]=t=>e.showTimeslots=!1)},[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"12"},{default:(0,o.w5)((()=>[(0,o._)("div",_e,[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"10"}),(0,o.Wm)(d,{sm:"2",class:"actions"},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{icon:"fa-solid fa-circle-xmark",onClick:n.close},null,8,["onClick"])])),_:1})])),_:1}),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"6"},{default:(0,o.w5)((()=>[(0,o._)("div",Le,[(0,o._)("span",null,(0,r.zw)(e.$t("dateTitle")),1),(0,o.Wm)(p,null,{prepend:(0,o.w5)((()=>[(0,o.Wm)(m,null,{default:(0,o.w5)((()=>[(0,o.Wm)(u,{icon:"fa-solid fa-calendar-days"})])),_:1})])),default:(0,o.w5)((()=>[(0,o.Wm)(h,{format:"yyyy-MM-dd",modelValue:e.elDate,"onUpdate:modelValue":t[0]||(t[0]=t=>e.elDate=t),"auto-apply":!0,"text-input":!0,"hide-input-icon":!0,clearable:!1,class:(0,r.C_)({required:e.requiredFields.indexOf("date")>-1})},null,8,["modelValue","class"])])),_:1})])])),_:1}),(0,o.Wm)(d,{sm:"6"},{default:(0,o.w5)((()=>[(0,o._)("div",ye,[(0,o._)("span",null,(0,r.zw)(e.$t("timeTitle")),1),(0,o.Wm)(p,null,{prepend:(0,o.w5)((()=>[(0,o.Wm)(m,null,{default:(0,o.w5)((()=>[(0,o.Wm)(u,{icon:"fa-regular fa-clock"})])),_:1})])),default:(0,o.w5)((()=>[(0,o.Wm)(b,{modelValue:e.elTime,"onUpdate:modelValue":t[1]||(t[1]=t=>e.elTime=t),onClick:t[2]||(t[2]=(0,a.iM)((t=>e.showTimeslots=!e.showTimeslots),["stop"])),class:(0,r.C_)(["timeslot-input",{required:e.requiredFields.indexOf("time")>-1}])},null,8,["modelValue","class"]),(0,o._)("div",{class:(0,r.C_)(["timeslots",{hide:!this.showTimeslots}]),onClick:t[3]||(t[3]=(0,a.iM)((()=>{}),["stop"]))},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.timeslots,(e=>((0,o.wg)(),(0,o.iD)("span",{key:e,class:(0,r.C_)(["timeslot",{free:n.freeTimeslots.indexOf(this.moment(e,this.getTimeFormat()).format("HH:mm"))>-1}]),onClick:t=>n.setTime(e)},(0,r.zw)(e),11,Se)))),128))],2)])),_:1})])])),_:1})])),_:1}),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"12"},{default:(0,o.w5)((()=>[(0,o._)("div",Te,[(0,o.Wm)(v,{variant:"primary",onClick:n.chooseCustomer},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{icon:"fa-solid fa-users"}),(0,o.Uk)(" "+(0,r.zw)(e.$t("selectExistingClientButtonLabel")),1)])),_:1},8,["onClick"])])])),_:1})])),_:1}),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"12"},{default:(0,o.w5)((()=>[(0,o._)("div",Ce,[(0,o.Wm)(b,{placeholder:e.$t("customerFirstnamePlaceholder"),modelValue:e.elCustomerFirstname,"onUpdate:modelValue":t[4]||(t[4]=t=>e.elCustomerFirstname=t),class:(0,r.C_)({required:e.requiredFields.indexOf("customer_first_name")>-1})},null,8,["placeholder","modelValue","class"])])])),_:1})])),_:1}),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"12"},{default:(0,o.w5)((()=>[(0,o._)("div",Ae,[(0,o.Wm)(b,{placeholder:e.$t("customerLastnamePlaceholder"),modelValue:e.elCustomerLastname,"onUpdate:modelValue":t[5]||(t[5]=t=>e.elCustomerLastname=t)},null,8,["placeholder","modelValue"])])])),_:1})])),_:1}),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"12"},{default:(0,o.w5)((()=>[(0,o._)("div",We,[(0,o.Wm)(b,{placeholder:e.$t("customerEmailPlaceholder"),modelValue:e.elCustomerEmail,"onUpdate:modelValue":t[6]||(t[6]=t=>e.elCustomerEmail=t)},null,8,["placeholder","modelValue"])])])),_:1})])),_:1}),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"12"},{default:(0,o.w5)((()=>[(0,o._)("div",De,[(0,o.Wm)(b,{placeholder:e.$t("customerAddressPlaceholder"),modelValue:e.elCustomerAddress,"onUpdate:modelValue":t[7]||(t[7]=t=>e.elCustomerAddress=t)},null,8,["placeholder","modelValue"])])])),_:1})])),_:1}),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"12"},{default:(0,o.w5)((()=>[(0,o._)("div",Pe,[(0,o.Wm)(b,{placeholder:e.$t("customerPhonePlaceholder"),modelValue:e.elCustomerPhone,"onUpdate:modelValue":t[8]||(t[8]=t=>e.elCustomerPhone=t)},null,8,["placeholder","modelValue"])])])),_:1})])),_:1}),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"12"},{default:(0,o.w5)((()=>[(0,o._)("div",Be,[(0,o.Wm)(f,{modelValue:e.elCustomerNotes,"onUpdate:modelValue":t[9]||(t[9]=t=>e.elCustomerNotes=t),placeholder:e.$t("customerNotesPlaceholder"),rows:"3","max-rows":"6"},null,8,["modelValue","placeholder"])])])),_:1})])),_:1}),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o._)("div",je,[(0,o.Wm)(g,{modelValue:e.saveAsNewCustomer,"onUpdate:modelValue":t[10]||(t[10]=t=>e.saveAsNewCustomer=t),switch:""},{default:(0,o.w5)((()=>[(0,o.Uk)((0,r.zw)(e.$t("saveAsNewCustomerLabel")),1)])),_:1},8,["modelValue"])])])),_:1})])])),_:1})])),_:1}),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"12"},{default:(0,o.w5)((()=>[(0,o._)("div",Ie,[(0,o._)("div",ze,[(0,o._)("div",xe,(0,r.zw)(e.$t("extraInfoLabel")),1),(0,o._)("div",null,[(0,o._)("span",{class:(0,r.C_)(["booking-details-extra-info-header-btn",e.visibleExtraInfo?null:"collapsed"]),"aria-expanded":e.visibleExtraInfo?"true":"false","aria-controls":"collapse-2",onClick:t[11]||(t[11]=t=>e.visibleExtraInfo=!e.visibleExtraInfo)},[e.visibleExtraInfo?((0,o.wg)(),(0,o.j4)(u,{key:1,icon:"fa-solid fa-circle-chevron-up"})):((0,o.wg)(),(0,o.j4)(u,{key:0,icon:"fa-solid fa-circle-chevron-down"}))],10,Ee)])]),(0,o.Wm)(w,{id:"collapse-2",class:"mt-2",modelValue:e.visibleExtraInfo,"onUpdate:modelValue":t[12]||(t[12]=t=>e.visibleExtraInfo=t)},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.customFieldsList,(e=>((0,o.wg)(),(0,o.j4)(k,{key:e.key,field:e,value:n.getCustomFieldValue(e.key,e.default_value),onUpdate:n.updateCustomField},null,8,["field","value","onUpdate"])))),128))])),_:1},8,["modelValue"])])])),_:1})])),_:1}),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"12"},{default:(0,o.w5)((()=>[(0,o._)("div",Me,[e.isLoadingServicesAssistants?(0,o.kq)("",!0):((0,o.wg)(!0),(0,o.iD)(o.HY,{key:0},(0,o.Ko)(e.elServices,((s,i)=>((0,o.wg)(),(0,o.j4)(c,{key:i,class:"service-row"},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"5"},{default:(0,o.w5)((()=>[(0,o._)("div",Re,[(0,o.Wm)(_,{ref_for:!0,ref:"select-service",class:(0,r.C_)(["service-select",{required:e.requiredFields.indexOf("services_service_"+i)>-1}]),"close-on-select":"",modelValue:s.service_id,"onUpdate:modelValue":e=>s.service_id=e,options:n.getServicesListBySearch(n.servicesList,e.serviceSearch[i]),"label-by":"[serviceName, price, duration, category]","value-by":"value"},{label:(0,o.w5)((({selected:t})=>[t?((0,o.wg)(),(0,o.iD)("div",Ye,[(0,o._)("div",He,[(0,o._)("span",null,(0,r.zw)(t.category),1),t.category?((0,o.wg)(),(0,o.iD)("span",Ve," | ")):(0,o.kq)("",!0),(0,o._)("span",Ne,(0,r.zw)(t.serviceName),1)]),(0,o._)("div",$e,[(0,o._)("div",Fe,[(0,o._)("span",null,(0,r.zw)(t.price),1),(0,o._)("span",{innerHTML:t.currency},null,8,Ue),qe,(0,o._)("span",null,(0,r.zw)(t.duration),1)])])])):((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[(0,o.Uk)((0,r.zw)(e.$t("selectServicesPlaceholder")),1)],64))])),"dropdown-item":(0,o.w5)((({option:e})=>[(0,o._)("div",Oe,[(0,o._)("div",Ze,[(0,o._)("div",{class:(0,r.C_)(["availability",{available:e.available}])},null,2),(0,o._)("div",Ge,[(0,o._)("span",null,(0,r.zw)(e.category),1),e.category?((0,o.wg)(),(0,o.iD)("span",Ke," | ")):(0,o.kq)("",!0),(0,o._)("span",Je,(0,r.zw)(e.serviceName),1)])]),(0,o._)("div",Qe,[(0,o._)("div",Xe,[(0,o._)("span",null,(0,r.zw)(e.price),1),(0,o._)("span",{innerHTML:e.currency},null,8,et),tt,(0,o._)("span",null,(0,r.zw)(e.duration),1)])])])])),_:2},1032,["modelValue","onUpdate:modelValue","options","class"]),(0,o._)("li",st,[(0,o.Wm)(u,{icon:"fa-solid fa-magnifying-glass",class:"vue-select-search-icon"}),(0,o.Wm)(b,{modelValue:e.serviceSearch[i],"onUpdate:modelValue":t=>e.serviceSearch[i]=t,class:"vue-select-search-input",placeholder:e.$t("selectServicesSearchPlaceholder"),onMousedown:t[13]||(t[13]=(0,a.iM)((()=>{}),["stop"]))},null,8,["modelValue","onUpdate:modelValue","placeholder"])])])])),_:2},1024),n.isShowAttendant(s)?((0,o.wg)(),(0,o.j4)(d,{key:0,sm:"5"},{default:(0,o.w5)((()=>[(0,o._)("div",at,[(0,o.Wm)(_,{ref_for:!0,ref:"select-assistant",class:(0,r.C_)(["service-select",{required:e.requiredFields.indexOf("services_assistant_"+i)>-1}]),"close-on-select":"",modelValue:s.assistant_id,"onUpdate:modelValue":e=>s.assistant_id=e,options:n.getAttendantsListBySearch(n.attendantsList,e.assistantSearch[i]),"label-by":"text","value-by":"value",onFocus:e=>n.loadAvailabilityAttendants(s.service_id)},{label:(0,o.w5)((({selected:t})=>[t?((0,o.wg)(),(0,o.iD)("div",ot,[(0,o._)("div",it,[(0,o._)("span",null,(0,r.zw)(t.text),1)])])):((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[(0,o.Uk)((0,r.zw)(e.$t("selectAttendantsPlaceholder")),1)],64))])),"dropdown-item":(0,o.w5)((({option:e})=>[(0,o._)("div",lt,[(0,o._)("div",nt,[(0,o._)("div",{class:(0,r.C_)(["availability",{available:e.available}])},null,2),(0,o._)("div",rt,(0,r.zw)(e.text),1)])])])),_:2},1032,["modelValue","onUpdate:modelValue","options","class","onFocus"]),(0,o._)("li",dt,[(0,o.Wm)(u,{icon:"fa-solid fa-magnifying-glass",class:"vue-select-search-icon"}),(0,o.Wm)(b,{modelValue:e.assistantSearch[i],"onUpdate:modelValue":t=>e.assistantSearch[i]=t,class:"vue-select-search-input",placeholder:e.$t("selectAssistantsSearchPlaceholder"),onMousedown:t[14]||(t[14]=(0,a.iM)((()=>{}),["stop"]))},null,8,["modelValue","onUpdate:modelValue","placeholder"])])])])),_:2},1024)):(0,o.kq)("",!0),(0,o.Wm)(d,{sm:"2",class:"service-row-delete"},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{icon:"fa-solid fa-circle-xmark",onClick:e=>n.deleteService(i)},null,8,["onClick"])])),_:2},1024)])),_:2},1024)))),128)),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"6",class:"add-service-wrapper"},{default:(0,o.w5)((()=>[(0,o._)("div",ut,[(0,o.Wm)(v,{variant:"primary",onClick:n.addService,disabled:e.isLoadingServicesAssistants},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{icon:"fa-solid fa-plus"}),(0,o.Uk)(" "+(0,r.zw)(e.$t("addServiceButtonLabel")),1)])),_:1},8,["onClick","disabled"]),e.isLoadingServicesAssistants?((0,o.wg)(),(0,o.j4)(L,{key:0,variant:"primary",class:"services-assistants-loader"})):(0,o.kq)("",!0)]),(0,o._)("div",ct,[(0,o.Wm)(y,{show:e.requiredFields.indexOf("services")>-1,fade:"",variant:"danger"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,r.zw)(e.$t("addServiceMessage")),1)])),_:1},8,["show"])])])),_:1})])),_:1})])])),_:1})])),_:1}),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"12"},{default:(0,o.w5)((()=>[(0,o._)("div",mt,[(0,o.Wm)(v,{class:(0,r.C_)(e.visibleDiscountInfo?null:"collapsed"),"aria-expanded":e.visibleDiscountInfo?"true":"false","aria-controls":"collapse-1",onClick:t[15]||(t[15]=t=>e.visibleDiscountInfo=!e.visibleDiscountInfo),variant:"primary"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,r.zw)(e.$t("addAndManageDiscountButtonLabel"))+" ",1),e.visibleDiscountInfo?((0,o.wg)(),(0,o.j4)(u,{key:1,icon:"fa-solid fa-circle-chevron-up"})):((0,o.wg)(),(0,o.j4)(u,{key:0,icon:"fa-solid fa-circle-chevron-down"}))])),_:1},8,["class","aria-expanded"]),(0,o.Wm)(w,{id:"collapse-1",class:"mt-2",modelValue:e.visibleDiscountInfo,"onUpdate:modelValue":t[16]||(t[16]=t=>e.visibleDiscountInfo=t)},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.elDiscounts,((t,s)=>((0,o.wg)(),(0,o.j4)(c,{key:t,class:"discount-row"},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"6"},{default:(0,o.w5)((()=>[(0,o._)("div",ht,[(0,o._)("label",null,(0,r.zw)(e.$t("selectDiscountLabel")),1),(0,o.Wm)(S,{modelValue:e.elDiscounts[s],"onUpdate:modelValue":t=>e.elDiscounts[s]=t,options:n.discountsList},null,8,["modelValue","onUpdate:modelValue","options"])])])),_:2},1024),(0,o.Wm)(d,{sm:"6",class:"discount-row-delete"},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{icon:"fa-solid fa-circle-xmark",onClick:e=>n.deleteDiscount(s)},null,8,["onClick"])])),_:2},1024)])),_:2},1024)))),128)),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"6"},{default:(0,o.w5)((()=>[(0,o.Wm)(v,{variant:"primary",onClick:n.addDiscount},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{icon:"fa-solid fa-plus"}),(0,o.Uk)(" "+(0,r.zw)(e.$t("addDiscountButtonLabel")),1)])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])])),_:1})])),_:1}),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"12"},{default:(0,o.w5)((()=>[(0,o._)("div",pt,[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"6",class:"status"},{default:(0,o.w5)((()=>[(0,o.Wm)(S,{modelValue:e.elStatus,"onUpdate:modelValue":t[17]||(t[17]=t=>e.elStatus=t),options:n.statusesList},null,8,["modelValue","options"])])),_:1}),(0,o.Wm)(d,{sm:"6"},{default:(0,o.w5)((()=>[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"6",class:"save-button-wrapper"},{default:(0,o.w5)((()=>[(0,o.Wm)(v,{variant:"primary",onClick:n.save},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{icon:"fa-solid fa-check"}),(0,o.Uk)(" "+(0,r.zw)(e.$t("saveButtonLabel")),1)])),_:1},8,["onClick"])])),_:1}),(0,o.Wm)(d,{sm:"6",class:"save-button-result-wrapper"},{default:(0,o.w5)((()=>[s.isLoading?((0,o.wg)(),(0,o.j4)(L,{key:0,variant:"primary"})):(0,o.kq)("",!0),(0,o.Wm)(y,{show:s.isSaved,fade:"",variant:"success"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,r.zw)(e.$t("savedLabel")),1)])),_:1},8,["show"]),(0,o.Wm)(y,{show:s.isError,fade:"",variant:"danger"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,r.zw)(s.errorMessage),1)])),_:1},8,["show"]),(0,o.Wm)(y,{show:!e.isValid,fade:"",variant:"danger"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,r.zw)(e.$t("validationMessage")),1)])),_:1},8,["show"])])),_:1})])),_:1})])),_:1})])),_:1})])])),_:1})])),_:1})])}const vt=["for"],ft=["for"],gt=["for"];function kt(e,t,s,a,i,l){const n=(0,o.up)("b-form-input"),d=(0,o.up)("b-form-textarea"),u=(0,o.up)("b-form-checkbox"),c=(0,o.up)("b-form-select"),m=(0,o.up)("b-col"),h=(0,o.up)("b-row");return(0,o.wg)(),(0,o.j4)(h,{class:"field"},{default:(0,o.w5)((()=>[(0,o.Wm)(m,{sm:"12"},{default:(0,o.w5)((()=>["text"===l.type?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[(0,o.Wm)(n,{modelValue:e.elValue,"onUpdate:modelValue":t[0]||(t[0]=t=>e.elValue=t),modelModifiers:{lazy:!0},id:l.key},null,8,["modelValue","id"]),(0,o._)("label",{class:"label",for:l.key},(0,r.zw)(l.label),9,vt)],64)):(0,o.kq)("",!0),"textarea"===l.type?((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[(0,o.Wm)(d,{modelValue:e.elValue,"onUpdate:modelValue":t[1]||(t[1]=t=>e.elValue=t),modelModifiers:{lazy:!0},id:l.key},null,8,["modelValue","id"]),(0,o._)("label",{class:"label",for:l.key},(0,r.zw)(l.label),9,ft)],64)):(0,o.kq)("",!0),"checkbox"===l.type?((0,o.wg)(),(0,o.j4)(u,{key:2,modelValue:e.elValue,"onUpdate:modelValue":t[2]||(t[2]=t=>e.elValue=t),id:l.key},{default:(0,o.w5)((()=>[(0,o.Uk)((0,r.zw)(l.label),1)])),_:1},8,["modelValue","id"])):(0,o.kq)("",!0),"select"===l.type?((0,o.wg)(),(0,o.iD)(o.HY,{key:3},[(0,o.Wm)(c,{modelValue:e.elValue,"onUpdate:modelValue":t[3]||(t[3]=t=>e.elValue=t),id:l.key,options:l.options},null,8,["modelValue","id","options"]),(0,o._)("label",{class:"label",for:l.key},(0,r.zw)(l.label),9,gt)],64)):(0,o.kq)("",!0)])),_:1})])),_:1})}var wt={name:"CustomField",props:{field:{default:function(){return{}}},value:{default:function(){return""}}},mounted(){this.update()},data:function(){let e=this.value;return"checkbox"===this.field.type&&(e=!!e),{elValue:e}},watch:{elValue(){this.update()}},computed:{key(){return this.field.key},type(){return this.field.type},label(){return this.field.label},options(){return this.field.options.map((e=>({value:e.value,text:e.label})))}},methods:{update(){this.$emit("update",this.key,this.elValue)}},emits:["update"]};const _t=(0,j.Z)(wt,[["render",kt],["__scopeId","data-v-19833334"]]);var Lt=_t,yt={name:"EditBooking",props:{bookingID:{default:function(){return""}},date:{default:function(){return""}},time:{default:function(){return""}},customerID:{default:function(){return""}},customerFirstname:{default:function(){return""}},customerLastname:{default:function(){return""}},customerEmail:{default:function(){return""}},customerAddress:{default:function(){return""}},customerPhone:{default:function(){return""}},customerNotes:{default:function(){return""}},services:{default:function(){return[]}},discounts:{default:function(){return[]}},status:{default:function(){return""}},isLoading:{default:function(){return!1}},isSaved:{default:function(){return!1}},isError:{default:function(){return!1}},errorMessage:{default:function(){return""}},customFields:{default:function(){return[]}},shop:{default:function(){return{}}}},mounted(){this.loadDiscounts(),this.loadAvailabilityIntervals(),this.loadAvailabilityServices(),this.loadCustomFields(),this.isLoadingServicesAssistants=!0,Promise.all([this.loadServices(),this.loadAttendants(),this.loadServicesCategory()]).then((()=>{this.isLoadingServicesAssistants=!1,this.elServices.forEach(((e,t)=>{this.addServicesSelectSearchInput(t),this.addAssistantsSelectSearchInput(t)}))}))},data:function(){return{elDate:this.date,elTime:this.timeFormat(this.time),elCustomerFirstname:this.customerFirstname,elCustomerLastname:this.customerLastname,elCustomerEmail:this.customerEmail,elCustomerAddress:this.customerAddress,elCustomerPhone:this.customerPhone,elCustomerNotes:this.customerNotes,elServices:[...this.services].map((e=>({service_id:e.service_id,assistant_id:e.assistant_id}))),elDiscounts:[...this.discounts],elStatus:this.status,visibleDiscountInfo:!1,elDiscountsList:[],elServicesList:[],elServicesNameList:[],elAttendantsList:[],showTimeslots:!1,availabilityIntervals:{},saveAsNewCustomer:!1,availabilityServices:[],serviceSearch:[],isValid:!0,requiredFields:[],visibleExtraInfo:!1,customFieldsList:[],elCustomFields:this.customFields,isLoadingServicesAssistants:!1,assistantSearch:[],availabilityAttendants:[]}},watch:{elDate(){this.loadAvailabilityIntervals(),this.loadAvailabilityServices()},elTime(){this.loadAvailabilityServices()},shop(){this.loadAvailabilityIntervals(),this.loadAvailabilityServices(),this.isLoadingServicesAssistants=!0,Promise.all([this.loadServices(),this.loadAttendants()]).then((()=>{this.isLoadingServicesAssistants=!1,this.elServices.forEach(((e,t)=>{this.addServicesSelectSearchInput(t),this.addAssistantsSelectSearchInput(t)}))}))}},computed:{statusesList(){var e=[];for(var t in this.$root.statusesList)e.push({value:t,text:this.$root.statusesList[t].label});return e},discountsList(){var e=[];return this.elDiscountsList.forEach((t=>{e.push({value:t.id,text:t.name})})),e},servicesList(){var e=[];return this.elServicesList.forEach((t=>{let s=[];t.categories.forEach((e=>{let t=this.elServicesNameList.find((t=>t.id===e));t&&s.push(t.name)}));let a=!1,o=this.availabilityServices.find((e=>e.id===t.id));o&&(a=o.available),e.push({value:t.id,price:t.price,duration:t.duration,currency:t.currency,serviceName:t.name,category:s.join(", "),empty_assistants:t.empty_assistants,available:a})})),e},attendantsList(){var e=[];return this.elAttendantsList.forEach((t=>{let s=!1,a=this.availabilityAttendants.find((e=>e.id===t.id));a&&(s=a.available),e.push({value:t.id,text:t.name,available:s})})),e},timeslots(){var e=this.availabilityIntervals.workTimes?Object.values(this.availabilityIntervals.workTimes):[];return e.map((e=>this.timeFormat(e)))},freeTimeslots(){return this.availabilityIntervals.times?Object.values(this.availabilityIntervals.times):[]},showAttendant(){return"undefined"===typeof this.$root.settings.attendant_enabled||this.$root.settings.attendant_enabled},bookingServices(){return JSON.parse(JSON.stringify(this.elServices)).map((e=>(e.assistant_id?e.assistant_id:e.assistant_id=0,e)))}},methods:{close(){this.$emit("close")},chooseCustomer(){this.$emit("chooseCustomer")},save(){if(this.isValid=this.validate(),this.isValid){var e={date:this.moment(this.elDate).format("YYYY-MM-DD"),time:this.moment(this.elTime,this.getTimeFormat()).format("HH:mm"),status:this.elStatus,customer_id:this.customerID?this.customerID:0,customer_first_name:this.elCustomerFirstname,customer_last_name:this.elCustomerLastname,customer_email:this.elCustomerEmail,customer_phone:this.elCustomerPhone,customer_address:this.elCustomerAddress,services:this.bookingServices,discounts:this.elDiscounts,note:this.elCustomerNotes,save_as_new_customer:this.saveAsNewCustomer,custom_fields:this.elCustomFields};this.shop&&(e["shop"]={id:this.shop.id}),this.$emit("save",e)}},loadDiscounts(){this.axios.get("discounts").then((e=>{this.elDiscountsList=e.data.items}))},loadServices(){return this.axios.get("services",{params:{per_page:-1,shop:this.shop?this.shop.id:null}}).then((e=>{this.elServicesList=e.data.items}))},loadServicesCategory(){return this.axios.get("services/categories").then((e=>{this.elServicesNameList=e.data.items}))},loadAttendants(){return this.axios.get("assistants",{params:{shop:this.shop?this.shop.id:null}}).then((e=>{this.elAttendantsList=e.data.items}))},loadAvailabilityIntervals(){this.axios.post("availability/intervals",{date:this.moment(this.elDate).format("YYYY-MM-DD"),time:this.moment(this.elTime,this.getTimeFormat()).format("HH:mm"),shop:this.shop?this.shop.id:0}).then((e=>{this.availabilityIntervals=e.data.intervals}))},loadAvailabilityServices(){this.axios.post("availability/booking/services",{date:this.moment(this.elDate).format("YYYY-MM-DD"),time:this.moment(this.elTime,this.getTimeFormat()).format("HH:mm"),booking_id:this.bookingID?this.bookingID:0,is_all_services:!0,services:this.bookingServices.filter((e=>e.service_id)),shop:this.shop?this.shop.id:0}).then((e=>{this.availabilityServices=e.data.services}))},loadAvailabilityAttendants(e){this.axios.post("availability/booking/assistants",{date:this.moment(this.elDate).format("YYYY-MM-DD"),time:this.moment(this.elTime,this.getTimeFormat()).format("HH:mm"),booking_id:this.bookingID?this.bookingID:0,selected_service_id:e||0,services:this.bookingServices.filter((e=>e.service_id)),shop:this.shop?this.shop.id:0}).then((e=>{this.availabilityAttendants=e.data.assistants}))},loadCustomFields(){this.axios.get("custom-fields/booking").then((e=>{this.customFieldsList=e.data.items.filter((e=>-1===["html","file"].indexOf(e.type)))}))},addDiscount(){this.elDiscounts.push(0)},deleteDiscount(e){this.elDiscounts.splice(e,1)},addService(){this.elServices.push({service_id:null,assistant_id:null}),this.addServicesSelectSearchInput(this.elServices.length-1),this.addAssistantsSelectSearchInput(this.elServices.length-1)},deleteService(e){this.elServices.splice(e,1),this.serviceSearch.splice(e,1)},setTime(e){this.elTime=e,this.showTimeslots=!1},getServicesListBySearch(e,t){return t?e.filter((e=>new RegExp(t,"ig").test([e.category,e.serviceName,e.price,e.duration].join("")))):e},validate(){return this.requiredFields=[],this.elDate||this.requiredFields.push("date"),this.elTime.trim()||this.requiredFields.push("time"),this.elCustomerFirstname.trim()||this.requiredFields.push("customer_first_name"),this.bookingServices.length||this.requiredFields.push("services"),this.bookingServices.forEach(((e,t)=>{e.service_id||this.requiredFields.push("services_service_"+t),this.isShowAttendant(e)&&!e.assistant_id&&this.requiredFields.push("services_assistant_"+t)})),0===this.requiredFields.length},isShowAttendant(e){let t=this.servicesList.find((t=>t.value===e.service_id));return t?this.showAttendant&&(!e.service_id||t&&!t.empty_assistants):this.showAttendant},updateCustomField(e,t){let s=this.elCustomFields.find((t=>t.key===e));s?s.value=t:this.elCustomFields.push({key:e,value:t})},getCustomFieldValue(e,t){let s=this.elCustomFields.find((t=>t.key===e));return s?s.value:t},addServicesSelectSearchInput(e){this.serviceSearch.push(""),setTimeout((()=>{window.document.querySelectorAll(".service .vue-dropdown")[e].prepend(window.document.querySelectorAll(".service .vue-select-search")[e]);let t=this.$refs["select-service"][e],s=t.blur;t.blur=()=>{};let a=t.focus,o=window.document.querySelectorAll(".service .vue-select-search-input")[e];t.focus=()=>{a(),setTimeout((()=>{o.focus()}),0)},o.addEventListener("blur",(()=>{s(),this.serviceSearch[e]=""}))}),0)},addAssistantsSelectSearchInput(e){this.assistantSearch.push(""),setTimeout((()=>{window.document.querySelectorAll(".attendant .vue-dropdown")[e].prepend(window.document.querySelectorAll(".attendant .vue-select-search")[e]);let t=this.$refs["select-assistant"][e],s=t.blur;t.blur=()=>{};let a=t.focus,o=window.document.querySelectorAll(".attendant .vue-select-search-input")[e];t.focus=()=>{a(),setTimeout((()=>{o.focus()}),0)},o.addEventListener("blur",(()=>{s(),this.assistantSearch[e]=""}))}),0)},getAttendantsListBySearch(e,t){return t?e.filter((e=>new RegExp(t,"ig").test([e.text].join("")))):e}},emits:["close","chooseCustomer","save"],components:{CustomField:Lt}};const St=(0,j.Z)(yt,[["render",bt],["__scopeId","data-v-f18f55fc"]]);var Tt=St,Ct={name:"EditBookingItem",props:{booking:{default:function(){return{}}},customer:{default:function(){return{}}}},components:{EditBooking:Tt},mounted(){this.toggleShow()},data:function(){return{isLoading:!1,isSaved:!1,show:!0}},methods:{close(){this.$emit("close")},chooseCustomer(){this.$emit("chooseCustomer")},save(e){this.isLoading=!0,this.axios.put("bookings/"+this.booking.id,e).then((()=>{this.isSaved=!0,setTimeout((()=>{this.isSaved=!1,this.close()}),3e3)}),(e=>{this.isError=!0,this.errorMessage=e.response.data.message,setTimeout((()=>{this.isError=!1,this.errorMessage=""}),3e3)})).finally((()=>{this.isLoading=!1}))},toggleShow(){this.show=!1,setTimeout((()=>{this.show=!0}),0)}},emits:["close","chooseCustomer"]};const At=(0,j.Z)(Ct,[["render",ke]]);var Wt=At;const Dt={class:"title"},Pt={class:"search"},Bt={class:"filters"},jt={class:"customers-list"},It={key:2,class:"no-result"};function zt(e,t,s,a,i,l){const n=(0,o.up)("font-awesome-icon"),d=(0,o.up)("b-form-input"),u=(0,o.up)("b-button"),c=(0,o.up)("b-col"),m=(0,o.up)("b-row"),h=(0,o.up)("b-spinner"),p=(0,o.up)("CustomerItem");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("h5",Dt,(0,r.zw)(e.$t("customersAddressBookTitle")),1),(0,o._)("div",Pt,[(0,o.Wm)(n,{icon:"fa-solid fa-magnifying-glass",class:"search-icon"}),(0,o.Wm)(d,{modelValue:e.search,"onUpdate:modelValue":t[0]||(t[0]=t=>e.search=t),class:"search-input"},null,8,["modelValue"]),e.search?((0,o.wg)(),(0,o.j4)(n,{key:0,icon:"fa-solid fa-circle-xmark",class:"clear",onClick:t[1]||(t[1]=t=>e.search="")})):(0,o.kq)("",!0)]),(0,o.Wm)(m,null,{default:(0,o.w5)((()=>[(0,o.Wm)(c,{sm:"12"},{default:(0,o.w5)((()=>[(0,o._)("div",Bt,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.filters,(t=>((0,o.wg)(),(0,o.j4)(u,{variant:"outline-primary",key:t.value,onClick:s=>e.searchFilter=t.value,pressed:e.searchFilter===t.value},{default:(0,o.w5)((()=>[(0,o.Uk)((0,r.zw)(t.label),1)])),_:2},1032,["onClick","pressed"])))),128))])])),_:1})])),_:1}),(0,o._)("div",jt,[e.isLoading?((0,o.wg)(),(0,o.j4)(h,{key:0,variant:"primary"})):e.customersList.length>0?((0,o.wg)(!0),(0,o.iD)(o.HY,{key:1},(0,o.Ko)(e.customersList,(e=>((0,o.wg)(),(0,o.j4)(p,{key:e.id,customer:e,chooseCustomerAvailable:s.chooseCustomerAvailable,onChoose:t=>l.choose(e)},null,8,["customer","chooseCustomerAvailable","onChoose"])))),128)):((0,o.wg)(),(0,o.iD)("span",It,(0,r.zw)(e.$t("customersAddressBookNoResultLabel")),1))]),s.chooseCustomerAvailable?((0,o.wg)(),(0,o.j4)(u,{key:0,variant:"primary",class:"go-back",onClick:l.closeChooseCustomer},{default:(0,o.w5)((()=>[(0,o.Uk)((0,r.zw)(e.$t("goBackButtonLabel")),1)])),_:1},8,["onClick"])):(0,o.kq)("",!0)])}const xt={class:"customer"},Et={class:"customer-first-last-name-wrapper"},Mt={class:"customer-firstname"},Rt={class:"customer-lastname"},Yt={class:"customer-email"},Ht={key:0,class:"customer-phone"},Vt={class:"total-order-sum"},Nt=["innerHTML"],$t={class:"total-order-count"},Ft={key:0,class:"button-choose"},Ut={class:"customer-phone-wrapper"},qt={key:0},Ot=["href"],Zt=["href"],Gt=["href"];function Kt(e,t,s,i,l,n){const d=(0,o.up)("b-col"),u=(0,o.up)("font-awesome-icon"),c=(0,o.up)("b-row");return(0,o.wg)(),(0,o.j4)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"12"},{default:(0,o.w5)((()=>[(0,o._)("div",xt,[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"8",class:"customer-info"},{default:(0,o.w5)((()=>[(0,o._)("div",Et,[(0,o._)("span",Mt,(0,r.zw)(n.customerFirstname),1),(0,o._)("span",Rt,(0,r.zw)(n.customerLastname),1)]),(0,o._)("div",Yt,(0,r.zw)(n.customerEmail),1),n.customerPhone?((0,o.wg)(),(0,o.iD)("div",Ht,(0,r.zw)(n.customerPhone),1)):(0,o.kq)("",!0)])),_:1}),(0,o.Wm)(d,{sm:"4",class:"total-order-wrapper"},{default:(0,o.w5)((()=>[(0,o._)("span",Vt,[(0,o.Wm)(u,{icon:"fa-solid fa-chart-simple"}),(0,o._)("span",{innerHTML:n.totalSum},null,8,Nt)]),(0,o._)("span",$t,[(0,o.Wm)(u,{icon:"fa-solid fa-medal"}),(0,o.Uk)(" "+(0,r.zw)(n.totalCount),1)])])),_:1})])),_:1}),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"12",class:"total-info"},{default:(0,o.w5)((()=>[(0,o._)("div",null,[s.chooseCustomerAvailable?((0,o.wg)(),(0,o.iD)("div",Ft,[(0,o.Wm)(u,{icon:"fa-solid fa-circle-plus",onClick:(0,a.iM)(n.choose,["prevent"])},null,8,["onClick"])])):(0,o.kq)("",!0)]),(0,o._)("div",Ut,[n.customerPhone?((0,o.wg)(),(0,o.iD)("span",qt,[(0,o._)("a",{href:"tel:"+n.customerPhone,class:"phone"},[(0,o.Wm)(u,{icon:"fa-solid fa-phone"})],8,Ot),(0,o._)("a",{href:"sms:"+n.customerPhone,class:"sms"},[(0,o.Wm)(u,{icon:"fa-solid fa-message"})],8,Zt),(0,o._)("a",{href:"https://wa.me/"+n.customerPhone,class:"whatsapp"},[(0,o.Wm)(u,{icon:"fa-brands fa-whatsapp"})],8,Gt)])):(0,o.kq)("",!0)])])),_:1})])),_:1})])])),_:1})])),_:1})}var Jt={name:"CustomerItem",props:{customer:{default:function(){return{}}},chooseCustomerAvailable:{default:function(){return!1}}},computed:{customerFirstname(){return this.customer.first_name},customerLastname(){return this.customer.last_name},customerEmail(){return this.customer.email},customerPhone(){return this.customer.phone?this.customer.phone_country_code+this.customer.phone:""},totalSum(){return this.$root.settings.currency_symbol+this.customer.total_amount_reservations},totalCount(){return this.customer.bookings.length>0?this.customer.bookings.length:"-"}},methods:{choose(){this.$emit("choose")}},emits:["choose"]};const Qt=(0,j.Z)(Jt,[["render",Kt],["__scopeId","data-v-7b2483a6"]]);var Xt=Qt,es={name:"CustomersAddressBook",props:{chooseCustomerAvailable:{default:function(){return!1}},shop:{default:function(){return{}}}},mounted(){this.load()},watch:{searchFilter(e){e&&this.load()},search(e){e?(this.searchFilter="",this.loadSearch()):this.searchFilter="a|b"},shop(){this.load()}},data:function(){return{filters:[{label:"a - b",value:"a|b"},{label:"c - d",value:"c|d"},{label:"e - f",value:"e|f"},{label:"g - h",value:"g|h"},{label:"i - j",value:"i|j"},{label:"k - l",value:"k|l"},{label:"m - n",value:"m|n"},{label:"o - p",value:"o|p"},{label:"q - r",value:"q|r"},{label:"s - t",value:"s|t"},{label:"u - v",value:"u|v"},{label:"w - x",value:"w|x"},{label:"y - z",value:"y|z"}],searchFilter:"a|b",customersList:[],isLoading:!1,search:"",timeout:null}},methods:{closeChooseCustomer(){this.$emit("closeChooseCustomer")},choose(e){this.$emit("choose",e)},load(){this.isLoading=!0,this.customersList=[],this.axios.get("customers",{params:{search:this.searchFilter,search_type:"start_with",search_field:"first_name",order_by:"first_name_last_name",shop:this.shop?this.shop.id:null}}).then((e=>{this.customersList=e.data.items})).finally((()=>{this.isLoading=!1}))},loadSearch(){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout((()=>{this.isLoading=!0,this.customersList=[],this.axios.get("customers",{params:{search:this.search,order_by:"first_name_last_name",shop:this.shop?this.shop.id:null}}).then((e=>{this.customersList=e.data.items})).finally((()=>{this.isLoading=!1}))}),1e3)}},components:{CustomerItem:Xt},emits:["closeChooseCustomer","choose"]};const ts=(0,j.Z)(es,[["render",zt],["__scopeId","data-v-139d6435"]]);var ss=ts,as={name:"UpcomingReservationsTab",props:{shop:{default:function(){return{}}}},components:{UpcomingReservations:M,BookingDetails:ge,EditBookingItem:Wt,CustomersAddressBook:ss},data:function(){return{showItem:!1,editItem:!1,item:null,isChooseCustomer:!1,customer:null}},methods:{setShowItem(e){this.showItem=!0,this.item=e},closeShowItem(){this.showItem=!1},setEditItem(){this.editItem=!0},closeEditItem(){this.editItem=!1,this.customer=null},chooseCustomer(){this.isChooseCustomer=!0},closeChooseCustomer(){this.isChooseCustomer=!1},choose(e){this.customer=e,this.closeChooseCustomer()}}};const os=(0,j.Z)(as,[["render",n]]);var is=os;function ls(e,t,s,a,i,l){const n=(0,o.up)("b-spinner"),r=(0,o.up)("CustomersAddressBook"),d=(0,o.up)("AddBookingItem"),u=(0,o.up)("EditBookingItem"),c=(0,o.up)("BookingDetails"),m=(0,o.up)("ReservationsCalendar");return(0,o.wg)(),(0,o.iD)("div",null,[e.isLoading?((0,o.wg)(),(0,o.j4)(n,{key:0,variant:"primary"})):e.isChooseCustomer?((0,o.wg)(),(0,o.j4)(r,{key:1,onCloseChooseCustomer:l.closeChooseCustomer,chooseCustomerAvailable:!0,onChoose:l.choose,shop:e.addItem?s.shop:e.item.shop},null,8,["onCloseChooseCustomer","onChoose","shop"])):e.addItem?((0,o.wg)(),(0,o.j4)(d,{key:2,onClose:l.close,date:e.date,time:e.time,customer:e.customer,onChooseCustomer:l.chooseCustomer,shop:s.shop},null,8,["onClose","date","time","customer","onChooseCustomer","shop"])):e.editItem?((0,o.wg)(),(0,o.j4)(u,{key:3,booking:e.item,customer:e.customer,onClose:l.closeEditItem,onChooseCustomer:l.chooseCustomer},null,8,["booking","customer","onClose","onChooseCustomer"])):e.showItem?((0,o.wg)(),(0,o.j4)(c,{key:4,booking:e.item,onClose:l.closeShowItem,onEdit:l.setEditItem},null,8,["booking","onClose","onEdit"])):((0,o.wg)(),(0,o.j4)(m,{key:5,onShowItem:l.setShowItem,onAdd:l.add,shop:s.shop},null,8,["onShowItem","onAdd","shop"]))])}const ns={class:"title"},rs={class:"search"},ds={class:"calendar"},us={key:0,class:"day day-with-bookings"},cs={key:1,class:"day day-full-booked"},ms={key:2,class:"day day-available-book"},hs={key:3,class:"day day-disable-book"},ps={key:0,class:"spinner-wrapper"},bs={class:"attendants"},vs={class:"slots"},fs={key:1},gs={key:2};function ks(e,t,s,a,i,l){const n=(0,o.up)("font-awesome-icon"),d=(0,o.up)("b-form-input"),u=(0,o.up)("Datepicker"),c=(0,o.up)("b-spinner"),m=(0,o.up)("b-col"),h=(0,o.up)("b-row"),p=(0,o.up)("b-button"),b=(0,o.up)("BookingSlot"),v=(0,o.up)("BookingItem"),f=(0,o.up)("BookingBlockSlot");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("h5",ns,(0,r.zw)(e.$t("reservationsCalendarTitle")),1),(0,o._)("div",rs,[(0,o.Wm)(n,{icon:"fa-solid fa-magnifying-glass",class:"search-icon"}),(0,o.Wm)(d,{modelValue:e.search,"onUpdate:modelValue":t[0]||(t[0]=t=>e.search=t),class:"search-input"},null,8,["modelValue"]),e.search?((0,o.wg)(),(0,o.j4)(n,{key:0,icon:"fa-solid fa-circle-xmark",class:"clear",onClick:t[1]||(t[1]=t=>e.search="")})):(0,o.kq)("",!0)]),(0,o.Wm)(h,null,{default:(0,o.w5)((()=>[(0,o.Wm)(m,{sm:"12"},{default:(0,o.w5)((()=>[(0,o._)("div",ds,[(0,o.Wm)(u,{modelValue:e.date,"onUpdate:modelValue":t[2]||(t[2]=t=>e.date=t),inline:"",autoApply:"",noSwipe:"",enableTimePicker:!1,monthChangeOnScroll:!1,onUpdateMonthYear:l.handleMonthYear,locale:e.locale},{day:(0,o.w5)((({day:e,date:t})=>[l.isDayWithBookings(t)?((0,o.wg)(),(0,o.iD)("div",us,(0,r.zw)(e),1)):l.isDayFullBooked(t)?((0,o.wg)(),(0,o.iD)("div",cs,(0,r.zw)(e),1)):l.isAvailableBookings(t)?((0,o.wg)(),(0,o.iD)("div",ms,(0,r.zw)(e),1)):((0,o.wg)(),(0,o.iD)("div",hs,(0,r.zw)(e),1))])),_:1},8,["modelValue","onUpdateMonthYear","locale"]),e.isLoadingCalendar?((0,o.wg)(),(0,o.iD)("div",ps)):(0,o.kq)("",!0),e.isLoadingCalendar?((0,o.wg)(),(0,o.j4)(c,{key:1,variant:"primary"})):(0,o.kq)("",!0)])])),_:1})])),_:1}),(0,o.Wm)(h,null,{default:(0,o.w5)((()=>[(0,o.Wm)(m,{sm:"12"},{default:(0,o.w5)((()=>[(0,o._)("div",bs,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.attendants,(t=>((0,o.wg)(),(0,o.j4)(p,{key:t.id,variant:"outline-primary",pressed:e.filterAttendant===t.id,onClick:s=>e.filterAttendant===t.id?e.filterAttendant="":e.filterAttendant=t.id},{default:(0,o.w5)((()=>[(0,o.Uk)((0,r.zw)(t.name),1)])),_:2},1032,["pressed","onClick"])))),128))])])),_:1})])),_:1}),(0,o._)("div",vs,[e.isLoadingTimeslots?((0,o.wg)(),(0,o.j4)(c,{key:0,variant:"primary"})):e.timeslots.length>0?((0,o.wg)(),(0,o.iD)("div",fs,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.timeslots,((t,a)=>((0,o.wg)(),(0,o.iD)(o.HY,{key:t},[(0,o.Wm)(b,{timeslot:t,onAdd:e=>l.add(t),isAvailable:l.isAvailable(t,t)},null,8,["timeslot","onAdd","isAvailable"]),l.getBookingsListByTime(t,e.timeslots[a+1]).length>0?((0,o.wg)(!0),(0,o.iD)(o.HY,{key:0},(0,o.Ko)(l.getBookingsListByTime(t,e.timeslots[a+1]),(e=>((0,o.wg)(),(0,o.j4)(v,{key:e.id,booking:e,onDeleteItem:t=>l.deleteItem(e.id),onShowDetails:t=>l.showDetails(e)},null,8,["booking","onDeleteItem","onShowDetails"])))),128)):a<e.timeslots.length-1?((0,o.wg)(),(0,o.j4)(f,{key:1,start:e.timeslots[a],end:e.timeslots[a+1],date:e.date,shop:s.shop,onLock:l.lock,onUnlock:l.unlock,isLock:l.isLock(e.timeslots[a],e.timeslots[a+1])},null,8,["start","end","date","shop","onLock","onUnlock","isLock"])):(0,o.kq)("",!0)],64)))),128))])):((0,o.wg)(),(0,o.iD)("span",gs,(0,r.zw)(e.$t("noResultTimeslotsLabel")),1))])])}const ws=e=>((0,o.dD)("data-v-d8a453a8"),e=e(),(0,o.Cn)(),e),_s={class:"timeslot"},Ls={class:"time"},ys=ws((()=>(0,o._)("span",{class:"line"},null,-1))),Ss={class:"action"};function Ts(e,t,s,a,i,l){const n=(0,o.up)("font-awesome-icon"),d=(0,o.up)("b-col"),u=(0,o.up)("b-row");return(0,o.wg)(),(0,o.j4)(u,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"12"},{default:(0,o.w5)((()=>[(0,o._)("div",_s,[(0,o._)("span",Ls,(0,r.zw)(l.timeslotValue),1),ys,(0,o._)("span",Ss,[(0,o.Wm)(n,{icon:"fa-solid fa-circle-plus",class:(0,r.C_)({available:s.isAvailable}),onClick:l.add},null,8,["class","onClick"])])])])),_:1})])),_:1})}var Cs={name:"BookingSlot",props:{timeslot:{default:function(){return"08:00"}},isAvailable:{default:function(){return!0}}},computed:{timeslotValue(){return this.moment(this.timeslot,"HH:mm").format("HH.mm")}},methods:{add(){this.$emit("add")}},emits:["add"]};const As=(0,j.Z)(Cs,[["render",Ts],["__scopeId","data-v-d8a453a8"]]);var Ws=As;const Ds={class:"block-slot"};function Ps(e,t,s,a,i,l){const n=(0,o.up)("b-spinner"),r=(0,o.up)("font-awesome-icon"),d=(0,o.up)("b-col"),u=(0,o.up)("b-row");return(0,o.wg)(),(0,o.j4)(u,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"12"},{default:(0,o.w5)((()=>[(0,o._)("div",Ds,[e.isLoading?((0,o.wg)(),(0,o.j4)(n,{key:0,variant:"primary"})):s.isLock?((0,o.wg)(),(0,o.j4)(r,{key:2,icon:"fa-solid fa-lock",onClick:l.unlock},null,8,["onClick"])):((0,o.wg)(),(0,o.j4)(r,{key:1,icon:"fa-solid fa-unlock",onClick:l.lock},null,8,["onClick"]))])])),_:1})])),_:1})}var Bs={name:"BookingBlockSlot",props:{isLock:{default:function(){return!1}},start:{default:function(){return"08:00"}},end:{default:function(){return"08:30"}},date:{default:function(){return null}},shop:{default:function(){return{}}}},data:function(){return{isLoading:!1}},computed:{holidayRule(){return{from_date:this.moment(this.date).format("YYYY-MM-DD"),to_date:this.moment(this.date).format("YYYY-MM-DD"),from_time:this.moment(this.start,"HH:mm").format("HH:mm"),to_time:this.moment(this.end,"HH:mm").format("HH:mm"),daily:!0,shop:this.shop?this.shop.id:0}}},methods:{lock(){this.isLoading=!0,this.axios.post("holiday-rules",this.holidayRule).then((e=>{this.$emit("lock",e.data.items)})).finally((()=>{this.isLoading=!1}))},unlock(){this.isLoading=!0,this.axios.delete("holiday-rules",{data:this.holidayRule}).then((e=>{this.$emit("unlock",e.data.items)})).finally((()=>{this.isLoading=!1}))}},emits:["lock","unlock"]};const js=(0,j.Z)(Bs,[["render",Ps],["__scopeId","data-v-175336eb"]]);var Is=js,zs={name:"ReservationsCalendar",props:{shop:{default:function(){return{}}}},mounted(){this.load(),setTimeout((()=>{window.document.querySelectorAll(".dp__calendar")[0].appendChild(window.document.querySelectorAll(".spinner-wrapper")[0]),window.document.querySelectorAll(".dp__calendar")[0].appendChild(window.document.querySelectorAll(".calendar .spinner-border")[0])}),0)},data:function(){return{date:new Date,timeslots:[],isLoadingTimeslots:!1,lockedTimeslots:[],availabilityStats:[],bookingsList:[],filterAttendant:"",search:"",timeout:null,availabilityIntervals:{},isLoadingCalendar:!1}},watch:{date(){this.loadLockedTimeslots(),this.loadBookingsList(),this.loadAvailabilityIntervals()},search(e){e?this.loadSearchBookingsList():this.loadBookingsList()},timeslots(){this.loadAvailabilityIntervals()},lockedTimeslots(){this.timeslots.length>0&&this.loadAvailabilityIntervals()},shop(){this.load()}},computed:{attendants(){var e={};return e[0]={id:"",name:this.$t("allTitle")},this.bookingsList.forEach((t=>{t.services.forEach((t=>{t.assistant_id>0&&(e[t.assistant_id]={id:t.assistant_id,name:t.assistant_name})}))})),Object.values(e).length>1?Object.values(e):[]},filteredBookingsList(){return this.bookingsList.filter((e=>{var t=!1;return e.services.forEach((e=>{this.filterAttendant===e.assistant_id&&(t=!0)})),""===this.filterAttendant||t}))}},methods:{load(){this.loadTimeslots(),this.loadLockedTimeslots();var e=this.date,t=e.getFullYear(),s=e.getMonth(),a=new Date(t,s,1),o=new Date(t,s+1,0);this.loadAvailabilityStats(a,o),this.loadBookingsList()},add(e){this.$emit("add",this.date,e||this.timeslots[0])},lock(e){this.lockedTimeslots=e},unlock(e){this.lockedTimeslots=e},loadTimeslots(){this.isLoadingTimeslots=!0,this.axios.get("calendar/intervals",{params:{shop:this.shop?this.shop.id:null}}).then((e=>{this.timeslots=e.data.items})).finally((()=>{this.isLoadingTimeslots=!1}))},loadLockedTimeslots(){this.isLoadingTimeslots=!0,this.axios.get("holiday-rules",{params:{date:this.moment(this.date).format("YYYY-MM-DD"),shop:this.shop?this.shop.id:null}}).then((e=>{this.lockedTimeslots=e.data.items})).finally((()=>{this.isLoadingTimeslots=!1}))},loadAvailabilityStats(e,t){this.isLoadingCalendar=!0,this.axios.get("availability/stats",{params:{from_date:this.moment(e).format("YYYY-MM-DD"),to_date:this.moment(t).format("YYYY-MM-DD"),shop:this.shop?this.shop.id:null}}).then((e=>{this.availabilityStats=e.data.stats})).finally((()=>{this.isLoadingCalendar=!1}))},loadBookingsList(){this.isLoadingTimeslots=!0,this.bookingsList=[],this.axios.get("bookings",{params:{start_date:this.moment(this.date).format("YYYY-MM-DD"),end_date:this.moment(this.date).format("YYYY-MM-DD"),per_page:-1,statuses:["sln-b-pendingpayment","sln-b-pending","sln-b-paid","sln-b-paylater","sln-b-canceled","sln-b-confirmed"],shop:this.shop?this.shop.id:null}}).then((e=>{this.bookingsList=e.data.items})).finally((()=>{this.isLoadingTimeslots=!1}))},loadAvailabilityIntervals(){this.axios.post("availability/intervals",{date:this.moment(this.date).format("YYYY-MM-DD"),time:this.timeslots[0],shop:this.shop?this.shop.id:0}).then((e=>{this.availabilityIntervals=e.data.intervals}))},isAvailable(e){return this.availabilityIntervals.universalSuggestedDate===this.moment(this.date).format("YYYY-MM-DD")&&Object.values(this.availabilityIntervals.times).indexOf(e)>-1},isLock(e,t){var s=!1;return this.lockedTimeslots.forEach((a=>{var o=this.moment(a.from_date+" "+a.from_time,"YYYY-MM-DD HH:mm").unix(),i=this.moment(a.to_date+" "+a.to_time,"YYYY-MM-DD HH:mm").unix(),l=this.moment(this.date).format("YYYY-MM-DD"),n=this.moment(l+" "+e,"YYYY-MM-DD HH:mm").unix(),r=this.moment(l+" "+t,"YYYY-MM-DD HH:mm").unix();o<=n&&i>=r&&i>n&&(s=!0)})),s},handleMonthYear(e){var t=new Date(e.year,e.month,1),s=new Date(e.year,e.month+1,0);this.loadAvailabilityStats(t,s)},isDayWithBookings(e){var t=!1;return this.availabilityStats.forEach((s=>{s.date===this.moment(e).format("YYYY-MM-DD")&&s.data&&s.data.bookings>0&&(t=!0)})),t},isAvailableBookings(e){var t=!1;return this.availabilityStats.forEach((s=>{s.date===this.moment(e).format("YYYY-MM-DD")&&s.available&&!s.full_booked&&(t=!0)})),t},isDayFullBooked(e){var t=!1;return this.availabilityStats.forEach((s=>{s.date===this.moment(e).format("YYYY-MM-DD")&&s.full_booked&&(t=!0)})),t},getBookingsListByTime(e,t){return this.filteredBookingsList.filter((s=>this.moment(s.time,"HH:mm").unix()>=this.moment(e,"HH:mm").unix()&&(!t||this.moment(s.time,"HH:mm").unix()<this.moment(t,"HH:mm").unix()))).sort(((e,t)=>this.moment(e.time,"HH:mm").unix()-this.moment(t.time,"HH:mm").unix()))},deleteItem(e){this.axios.delete("bookings/"+e).then((()=>{this.bookingsList=this.bookingsList.filter((t=>t.id!==e))}))},showDetails(e){this.$emit("showItem",e)},loadSearchBookingsList(){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout((()=>{this.isLoadingTimeslots=!0,this.bookingsList=[],this.axios.get("bookings",{params:{start_date:this.moment(this.date).format("YYYY-MM-DD"),end_date:this.moment(this.date).format("YYYY-MM-DD"),search:this.search,per_page:-1,statuses:["sln-b-pendingpayment","sln-b-pending","sln-b-paid","sln-b-paylater","sln-b-canceled","sln-b-confirmed"],shop:this.shop?this.shop.id:null}}).then((e=>{this.bookingsList=e.data.items})).finally((()=>{this.isLoadingTimeslots=!1}))}),1e3)}},components:{BookingSlot:Ws,BookingBlockSlot:Is,BookingItem:z},emits:["add","showItem"]};const xs=(0,j.Z)(zs,[["render",ks],["__scopeId","data-v-68bc092b"]]);var Es=xs;function Ms(e,t,s,i,l,n){const d=(0,o.up)("EditBooking");return(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("h5",null,(0,r.zw)(e.$t("addReservationTitle")),1),(0,o.Wm)(d,{date:s.date,time:s.time,customerID:s.customer?s.customer.id:"",customerFirstname:s.customer?s.customer.first_name:"",customerLastname:s.customer?s.customer.last_name:"",customerEmail:s.customer?s.customer.email:"",customerPhone:s.customer?s.customer.phone:"",customerAddress:s.customer?s.customer.address:"",customerNotes:s.customer?s.customer.note:"",status:"sln-b-confirmed",shop:s.shop,isLoading:e.isLoading,isSaved:e.isSaved,isError:e.isError,errorMessage:e.errorMessage,onClose:n.close,onChooseCustomer:n.chooseCustomer,onSave:n.save},null,8,["date","time","customerID","customerFirstname","customerLastname","customerEmail","customerPhone","customerAddress","customerNotes","shop","isLoading","isSaved","isError","errorMessage","onClose","onChooseCustomer","onSave"])],512)),[[a.F8,e.show]])}var Rs={name:"AddBookingItem",props:{date:{default:function(){return""}},time:{default:function(){return""}},customer:{default:function(){return{}}},shop:{default:function(){return{}}}},mounted(){this.toggleShow()},components:{EditBooking:Tt},data:function(){return{isLoading:!1,isSaved:!1,isError:!1,errorMessage:"",show:!0}},methods:{close(e){this.$emit("close",e)},chooseCustomer(){this.$emit("chooseCustomer")},save(e){this.isLoading=!0,this.axios.post("bookings",e).then((e=>{this.isSaved=!0,setTimeout((()=>{this.isSaved=!1}),3e3),this.axios.get("bookings/"+e.data.id).then((e=>{this.close(e.data.items[0])}))}),(e=>{this.isError=!0,this.errorMessage=e.response.data.message,setTimeout((()=>{this.isError=!1,this.errorMessage=""}),3e3)})).finally((()=>{this.isLoading=!1}))},toggleShow(){this.show=!1,setTimeout((()=>{this.show=!0}),0)}},emits:["close","chooseCustomer"]};const Ys=(0,j.Z)(Rs,[["render",Ms]]);var Hs=Ys,Vs={name:"ReservationsCalendarTab",props:{shop:{default:function(){return{}}}},components:{ReservationsCalendar:Es,AddBookingItem:Hs,CustomersAddressBook:ss,BookingDetails:ge,EditBookingItem:Wt},mounted(){let e=this.getQueryParams();"undefined"!==typeof e["booking_id"]&&(this.isLoading=!0,this.axios.get("bookings/"+e["booking_id"]).then((e=>{this.isLoading=!1,this.setShowItem(e.data.items[0])})))},data:function(){return{addItem:!1,showItem:!1,isChooseCustomer:!1,item:null,editItem:!1,customer:null,date:"",time:"",isLoading:!1}},methods:{add(e,t){this.addItem=!0,this.date=e,this.time=t},setShowItem(e){this.showItem=!0,this.item=e},close(e){this.addItem=!1,this.customer=null,e&&this.setShowItem(e)},chooseCustomer(){this.isChooseCustomer=!0},closeChooseCustomer(){this.isChooseCustomer=!1},closeShowItem(){this.showItem=!1},setEditItem(){this.editItem=!0},closeEditItem(){this.editItem=!1,this.customer=null},choose(e){this.customer=e,this.closeChooseCustomer()}}};const Ns=(0,j.Z)(Vs,[["render",ls]]);var $s=Ns;function Fs(e,t,s,a,i,l){const n=(0,o.up)("CustomersAddressBook");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(n,{shop:s.shop},null,8,["shop"])])}var Us={name:"CustomersAddressBookTab",props:{shop:{default:function(){return{}}}},components:{CustomersAddressBook:ss}};const qs=(0,j.Z)(Us,[["render",Fs]]);var Os=qs;function Zs(e,t,s,a,i,l){const n=(0,o.up)("ShopsList");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(n,{onShopsEnabled:l.shopsEnable,onApplyShop:l.applyShop},null,8,["onShopsEnabled","onApplyShop"])])}const Gs={class:"title"},Ks={class:"shops-list"},Js={key:2,class:"no-result"};function Qs(e,t,s,a,i,l){const n=(0,o.up)("b-spinner"),d=(0,o.up)("ShopItem");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("h5",Gs,(0,r.zw)(e.$t("shopsTitle")),1),(0,o._)("div",Ks,[e.isLoading?((0,o.wg)(),(0,o.j4)(n,{key:0,variant:"primary"})):e.shopsList.length>0?((0,o.wg)(!0),(0,o.iD)(o.HY,{key:1},(0,o.Ko)(e.shopsList,(e=>((0,o.wg)(),(0,o.j4)(d,{key:e.id,shop:e,onApplyShop:l.applyShop},null,8,["shop","onApplyShop"])))),128)):((0,o.wg)(),(0,o.iD)("span",Js,(0,r.zw)(e.$t("shopsNoResultLabel")),1))])])}const Xs={class:"shop"},ea={class:"shop-name"},ta={class:"shop-address"},sa={class:"shop-email"},aa={class:"shop-actions"},oa={class:"shop-phone"},ia={class:"shop-actions-wrapper"},la={class:"details-link"};function na(e,t,s,a,i,l){const n=(0,o.up)("font-awesome-icon"),d=(0,o.up)("b-col"),u=(0,o.up)("b-row");return(0,o.wg)(),(0,o.j4)(u,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"12",class:"shop-wrapper"},{default:(0,o.w5)((()=>[(0,o._)("div",Xs,[(0,o.Wm)(u,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"12",class:"shop-info"},{default:(0,o.w5)((()=>[(0,o._)("div",ea,(0,r.zw)(l.name),1),(0,o._)("div",ta,(0,r.zw)(l.address),1),(0,o._)("div",sa,(0,r.zw)(l.email),1),(0,o._)("div",aa,[(0,o._)("div",oa,(0,r.zw)(l.phone),1),(0,o._)("div",ia,[(0,o._)("span",la,[(0,o.Wm)(n,{icon:"fa-solid fa-chevron-right",onClick:l.applyShop},null,8,["onClick"])])])])])),_:1})])),_:1})])])),_:1})])),_:1})}var ra={name:"ShopItem",props:{shop:{default:function(){return{}}}},computed:{name(){return this.shop.name},address(){return this.shop.address},email(){return this.shop.email},phone(){return this.shop.phone}},methods:{applyShop(){this.$emit("applyShop",this.shop)}},emits:["applyShop"]};const da=(0,j.Z)(ra,[["render",na],["__scopeId","data-v-36220f6c"]]);var ua=da,ca={name:"ShopsList",data:function(){return{shopsList:[],isLoading:!1,isShopsEnabled:!1}},mounted(){this.load()},components:{ShopItem:ua},watch:{isShopsEnabled(){this.shopsEnable()}},methods:{load(){this.isLoading=!0,this.shopsList=[],this.axios.get("shops").then((e=>{this.shopsList=e.data.items,this.isShopsEnabled=!0})).finally((()=>{this.isLoading=!1}))},shopsEnable(){this.$emit("shopsEnabled",this.isShopsEnabled)},applyShop(e){this.$emit("applyShop",e)}},emits:["shopsEnabled","applyShop"]};const ma=(0,j.Z)(ca,[["render",Qs],["__scopeId","data-v-5aedc1a0"]]);var ha=ma,pa={name:"ShopsTab",components:{ShopsList:ha},methods:{shopsEnable(e){this.$emit("shopsEnabled",e)},applyShop(e){this.$emit("applyShop",e)}},emits:["shopsEnabled","applyShop"]};const ba=(0,j.Z)(pa,[["render",Zs]]);var va=ba;const fa={key:0,class:"shop-title"},ga={class:"label"},ka={class:"value"};function wa(e,t,s,a,i,l){return s.shop?((0,o.wg)(),(0,o.iD)("h4",fa,[(0,o._)("span",ga,(0,r.zw)(e.$t("shopTitleLabel"))+": ",1),(0,o._)("span",ka,(0,r.zw)(l.name),1)])):(0,o.kq)("",!0)}var _a={name:"ShopTitle",props:{shop:{default:function(){return{}}}},computed:{name(){return this.shop.name}}};const La=(0,j.Z)(_a,[["render",wa],["__scopeId","data-v-cd7a1f7e"]]);var ya=La,Sa={name:"TabsList",components:{UpcomingReservationsTab:is,ReservationsCalendarTab:$s,CustomersAddressBookTab:Os,ShopsTab:va,ShopTitle:ya},mounted(){window.addEventListener("hashchange",(()=>{this.hash=window.location.hash}));let e=this.getQueryParams();"undefined"!==typeof e["tab"]&&(this.hash="#"+e["tab"])},data:function(){return{hash:window.location.hash?window.location.hash:"#upcoming-reservations",isShopsEnabled:!1,shop:null}},methods:{click(e){window.location.href=e},isActiveTab(e){return this.hash===e?"":void 0},shopsEnable(e){this.isShopsEnabled=e},applyShop(e){this.shop=e,this.$refs["upcoming-reservations-tab-link"].click(),this.$emit("applyShop",e)}},emits:["applyShop"]};const Ta=(0,j.Z)(Sa,[["render",l],["__scopeId","data-v-69c44c7b"]]);var Ca=Ta,Aa=s.p+"img/logo.png";const Wa=e=>((0,o.dD)("data-v-53edd0cc"),e=e(),(0,o.Cn)(),e),Da=Wa((()=>(0,o._)("span",{class:"logo"},[(0,o._)("img",{src:Aa})],-1))),Pa={class:"text"};function Ba(e,t,s,a,i,l){const n=(0,o.up)("b-alert"),d=(0,o.up)("b-button");return(0,o.wg)(),(0,o.iD)("div",null,[e.showIOS?((0,o.wg)(),(0,o.j4)(n,{key:0,show:"",dismissible:"",variant:"secondary",class:"add-to-home-screen"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,r.zw)(e.$t("installPWAIOSText")),1)])),_:1})):((0,o.wg)(),(0,o.j4)(n,{key:1,show:e.shown,dismissible:"",variant:"secondary",class:"add-to-home-screen"},{default:(0,o.w5)((()=>[Da,(0,o._)("span",Pa,(0,r.zw)(e.$t("installPWAPromptText")),1),(0,o.Wm)(d,{onClick:l.installPWA,class:"btn-install"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,r.zw)(e.$t("installPWAPromptInstallBtnLabel")),1)])),_:1},8,["onClick"]),(0,o.Wm)(d,{onClick:l.dismissPrompt},{default:(0,o.w5)((()=>[(0,o.Uk)((0,r.zw)(e.$t("installPWAPromptNoInstallBtnLabel")),1)])),_:1},8,["onClick"])])),_:1},8,["show"]))])}var ja={data:()=>({shown:!1,showIOS:!1}),beforeMount(){window.addEventListener("beforeinstallprompt",(e=>{e.preventDefault(),this.installEvent=e,this.shown=!0}));const e=()=>{const e=window.navigator.userAgent.toLowerCase();return/iphone|ipad|ipod/.test(e)},t=()=>"standalone"in window.navigator&&window.navigator.standalone;e()&&!t()&&(this.showIOS=!0)},methods:{dismissPrompt(){this.shown=!1},installPWA(){this.installEvent.prompt(),this.installEvent.userChoice.then((e=>{this.dismissPrompt(),e.outcome}))}}};const Ia=(0,j.Z)(ja,[["render",Ba],["__scopeId","data-v-53edd0cc"]]);var za=Ia,xa={name:"App",mounted(){this.loadSettings()},data:function(){return{settings:{},statusesList:{"sln-b-pendingpayment":{label:this.$t("pendingPaymentStatusLabel"),color:"#ffc107"},"sln-b-pending":{label:this.$t("pendingStatusLabel"),color:"#ffc107"},"sln-b-paid":{label:this.$t("paidStatusLabel"),color:"#28a745"},"sln-b-paylater":{label:this.$t("payLaterStatusLabel"),color:"#17a2b8"},"sln-b-error":{label:this.$t("errorStatusLabel"),color:"#dc3545"},"sln-b-canceled":{label:this.$t("canceledStatusLabel"),color:"#dc3545"},"sln-b-confirmed":{label:this.$t("confirmedStatusLabel"),color:"#28a745"}},shop:null}},watch:{shop(){this.loadSettings()}},methods:{loadSettings(){this.axios.get("app/settings",{params:{shop:this.shop?this.shop.id:null}}).then((e=>{this.settings=e.data.settings}))},applyShop(e){this.shop=e}},components:{TabsList:Ca,PWAPrompt:za},beforeCreate(){this.$OneSignal&&(this.$OneSignal.showSlidedownPrompt(),this.$OneSignal.on("subscriptionChange",(e=>{e&&this.$OneSignal.getUserId((e=>{e&&this.axios.put("users",{onesignal_player_id:e})}))})))}};const Ea=(0,j.Z)(xa,[["render",i]]);var Ma=Ea,Ra=s(5431);(0,Ra.z)("/{SLN_PWA_DIST_PATH}/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});var Ya=s(65),Ha=(0,Ya.MT)({state:{},getters:{},mutations:{},actions:{},modules:{}}),Va=s(2026),Na=s(3494),$a=s(7749),Fa=s(8539),Ua=s(8429),qa=s(4551),Oa=s(9024),Za=s(6265),Ga=s.n(Za),Ka=s(6797),Ja=s.n(Ka),Qa={computed:{axios(){return Ga().create({baseURL:window.slnPWA.api,headers:{"Access-Token":window.slnPWA.token}})},moment(){return Ja()},locale(){return window.slnPWA.locale}},methods:{dateFormat(e){var t=this.$root.settings.date_format?this.$root.settings.date_format.js_format:null;if(!t)return e;var s=t.replace("dd","DD").replace("M","MMM").replace("mm","MM").replace("yyyy","YYYY");return Ja()(e).format(s)},timeFormat(e){return Ja()(e,"HH:mm").format(this.getTimeFormat())},getTimeFormat(){var e=this.$root.settings.time_format?this.$root.settings.time_format.js_format:null;if(e){var t=e.indexOf("p")>-1?e.replace("H","hh").replace("p","a").replace("ii","mm"):e.replace("hh","HH").replace("ii","mm");return t}},getQueryParams(){let e=window.location.search;e=e.replace("?","");let t=e.split("&").map((e=>({key:e.split("=")[0],value:e.split("=")[1]}))),s={};return t.forEach((e=>{s[e.key]=e.value})),s}}},Xa=s(7600),eo=s(8932),to=s(5658),so={pendingPaymentStatusLabel:"Pending payment",pendingStatusLabel:"Pending",paidStatusLabel:"Paid",payLaterStatusLabel:"Pay later",errorStatusLabel:"Error",canceledStatusLabel:"Canceled",confirmedStatusLabel:"Confirmed",upcomingReservationsTitle:"Upcoming reservations",upcomingReservationsNoResultLabel:"No upcoming bookings ...",label8Hours:"8 hrs",label24Hours:"24 hrs",label3Days:"3 days",label1Week:"1 week",allTitle:"All",deleteBookingConfirmText:"Are you sure ?",deleteBookingButtonLabel:"Yes, delete",deleteBookingGoBackLabel:"Go back",editReservationTitle:"Edit the reservation",dateTitle:"date",timeTitle:"time",customerFirstnamePlaceholder:"firstname",customerLastnamePlaceholder:"lastname",customerEmailPlaceholder:"email",customerAddressPlaceholder:"address",customerPhonePlaceholder:"phone",customerNotesPlaceholder:"notes",saveAsNewCustomerLabel:"Save this customer",extraInfoLabel:"Extra info",addAndManageDiscountButtonLabel:"Add and manage discount",selectDiscountLabel:"Select a discount",addDiscountButtonLabel:"Add a discount",saveButtonLabel:"Save booking",savedLabel:"Saved",validationMessage:"Please fill the required fields",selectServicesPlaceholder:"Select services",selectAttendantsPlaceholder:"Select an assistant",selectServicesSearchPlaceholder:"Type service name",selectAssistantsSearchPlaceholder:"Type assistant name",addServiceButtonLabel:"Add a service",addServiceMessage:"Please add services",selectExistingClientButtonLabel:"Select existing client",bookingDetailsTitle:"Booking details",totalTitle:"Total",transactionIdTitle:"Transaction ID",discountTitle:"Discount",depositTitle:"Deposit",dueTitle:"Due",editButtonLabel:"Edit booking",reservationsCalendarTitle:"Reservations calendar",noResultTimeslotsLabel:"No timeslots ...",addReservationTitle:"Add the reservation",customersAddressBookTitle:"Customers",goBackButtonLabel:"GO BACK",customersAddressBookNoResultLabel:"No customers found ...",installPWAPromptText:"Add to home screen ?",installPWAPromptInstallBtnLabel:"Install!",installPWAPromptNoInstallBtnLabel:"No, thanks",installPWAIOSText:"Install this app on your IPhone: tap menu and then Add to homescreen",shopsTitle:"Select a shop",shopsNoResultLabel:"No shops ...",shopTitleLabel:"Shop"},ao={pendingPaymentStatusLabel:"Pago pendiente",pendingStatusLabel:"Pendiente",paidStatusLabel:"Pagado",payLaterStatusLabel:"Pagar luego",errorStatusLabel:"Error",canceledStatusLabel:"Cancelado",confirmedStatusLabel:"Confirmado",upcomingReservationsTitle:"Próximas reservas",upcomingReservationsNoResultLabel:"No hay reservas próximamente ...",label8Hours:"8 horas",label24Hours:"24 horas",label3Days:"3 días",label1Week:"1 semana",allTitle:"Todos",deleteBookingConfirmText:"Estas seguro ?",deleteBookingButtonLabel:"Si, eliminar",deleteBookingGoBackLabel:"Regresa",editReservationTitle:"Editar la reservation",dateTitle:"fecha",timeTitle:"hora",customerFirstnamePlaceholder:"nombre",customerLastnamePlaceholder:"apellido",customerEmailPlaceholder:"e-mail",customerAddressPlaceholder:"dirección",customerPhonePlaceholder:"teléfono",customerNotesPlaceholder:"notas",saveAsNewCustomerLabel:"Guardar este cliente",extraInfoLabel:"Información extra",addAndManageDiscountButtonLabel:"Agregar y administrar descuento",selectDiscountLabel:"Seleccione un descuento",addDiscountButtonLabel:"Añadir un descuento",saveButtonLabel:"Guardar reserva",savedLabel:"Salvado",validationMessage:"Por favor, rellene los campos obligatorios",selectServicesPlaceholder:"Seleccionar servicios",selectAttendantsPlaceholder:"Selecciona un asistente",selectServicesSearchPlaceholder:"Escriba el nombre del servicio",selectAssistantsSearchPlaceholder:"Escriba el nombre del asistente",addServiceButtonLabel:"Agregar un servicio",addServiceMessage:"Por favor agregue servicios",selectExistingClientButtonLabel:"Seleccionar cliente existente",bookingDetailsTitle:"Detalles de la reserva",totalTitle:"Total",transactionIdTitle:"ID de transacción",discountTitle:"Descuento",depositTitle:"Depósito",dueTitle:"Debido",editButtonLabel:"Editar reserva",reservationsCalendarTitle:"Calendario de reservas",noResultTimeslotsLabel:"No hay intervalos de tiempo ...",addReservationTitle:"Añadir la reserva",customersAddressBookTitle:"Libreta de direcciones de clientes",goBackButtonLabel:"REGRESA",customersAddressBookNoResultLabel:"No se encontraron clientes ...",nstallPWAPromptText:"Añadir a la pantalla principal?",installPWAPromptInstallBtnLabel:"¡Instalar!",installPWAPromptNoInstallBtnLabel:"No, gracias",installPWAIOSText:"Instale esta aplicación en su iPhone: toque el menú y luego Agregar a la pantalla de inicio",shopsTitle:"Seleccione una tienda",shopsNoResultLabel:"Sin tiendas ...",shopTitleLabel:"Comercio"},oo={pendingPaymentStatusLabel:"Paiement en attente",pendingStatusLabel:"En attente",paidStatusLabel:"Paye",payLaterStatusLabel:"Payer plus tard",errorStatusLabel:"ERREUR",canceledStatusLabel:"Annule",confirmedStatusLabel:"Confirme",upcomingReservationsTitle:"A venir reservations",upcomingReservationsNoResultLabel:"Pas de réservations a venir ...",label8Hours:"8 heures",label24Hours:"24 heures",label3Days:"3 jours",label1Week:"1 semaine",allTitle:"Tout",deleteBookingConfirmText:"Êtes-vous sûr ?",deleteBookingButtonLabel:"Oui, supprimer",deleteBookingGoBackLabel:"Retourner",editReservationTitle:"Modifier la réservation",dateTitle:"date",timeTitle:"heure",customerFirstnamePlaceholder:"prénom",customerLastnamePlaceholder:"nom de famille",customerEmailPlaceholder:"e-mail",customerAddressPlaceholder:"addresse",customerPhonePlaceholder:"téléphone",customerNotesPlaceholder:"notes",saveAsNewCustomerLabel:"Enregistrer ce client",extraInfoLabel:"Informaitons supplémentaires",addAndManageDiscountButtonLabel:"Ajouter et gérer une remise",selectDiscountLabel:"Sélectionnez une réduction",addDiscountButtonLabel:"Ajouter une remise",saveButtonLabel:"Enregistrer la réservation",savedLabel:"Enregistré",validationMessage:"Veuillez remplir les champs requis",selectServicesPlaceholder:"Sélectionnez les prestations",selectAttendantsPlaceholder:"Sélectionnez un assistant",selectServicesSearchPlaceholder:"Tapez le nom du service",selectAssistantsSearchPlaceholder:"Tapez le nom de l'assistant",addServiceButtonLabel:"Ajouter un service",addServiceMessage:"Veuillez ajouter des services",selectExistingClientButtonLabel:"Sélectionnez un client existant",bookingDetailsTitle:"Les détails de réservation",totalTitle:"Total",transactionIdTitle:"Identifiant De Transaction",discountTitle:"Remise",depositTitle:"Acompte",dueTitle:"Reste",editButtonLabel:"Modifier la réservation",reservationsCalendarTitle:"Calendrier des réservations",noResultTimeslotsLabel:"Pas de plages horaires ...",addReservationTitle:"Ajouter la réservation",customersAddressBookTitle:"Carnet d'adresses clients",goBackButtonLabel:"RETOURNER",customersAddressBookNoResultLabel:"Aucun client trouvé ...",installPWAPromptText:"Ajouter à l'écran d'accueil ?",installPWAPromptInstallBtnLabel:"Installer!",installPWAPromptNoInstallBtnLabel:"Non merci",installPWAIOSText:"Installez cette application sur votre iPhone : appuyez sur le menu, puis sur Ajouter à l'écran d'accueil",shopsTitle:"Sélectionnez une boutique",shopsNoResultLabel:"Pas de magasins ...",shopTitleLabel:"Boutique"},io={pendingPaymentStatusLabel:"Oczekująca płatność",pendingStatusLabel:"Oczekująca",paidStatusLabel:"Opłacone",payLaterStatusLabel:"Zapłać później",errorStatusLabel:"Bład",canceledStatusLabel:"Anulowane",confirmedStatusLabel:"Zatwierdzone",upcomingReservationsTitle:"Nadchodzące rezerwacje",upcomingReservationsNoResultLabel:"Brak nadchodzących rezerwacji ...",label8Hours:"8godz",label24Hours:"24godz",label3Days:"3dni",label1Week:"1wydzień",allTitle:"Wszystko",deleteBookingConfirmText:"Jesteś pewny ?",deleteBookingButtonLabel:"Tak, usuń",deleteBookingGoBackLabel:"Wróć",editReservationTitle:"Edytuj rezerwację",dateTitle:"data",timeTitle:"czas / godzina",customerFirstnamePlaceholder:"imię",customerLastnamePlaceholder:"nazwisko",customerEmailPlaceholder:"e-mail",customerAddressPlaceholder:"adres",customerPhonePlaceholder:"pelefon",customerNotesPlaceholder:"notatki",saveAsNewCustomerLabel:"Zapisz tego klienta",extraInfoLabel:"Informacje dodatkowe",addAndManageDiscountButtonLabel:"Dodaj zniżkę i zarządzaj nią",selectDiscountLabel:"Wybierz zniżkę",addDiscountButtonLabel:"Dodaj rabat",saveButtonLabel:"Zapisz rezerwację",savedLabel:"Zapisane",validationMessage:"Proszę wypełnić wymagane pola",selectServicesPlaceholder:"Wybierz usługi",selectAttendantsPlaceholder:"Wybierz asystenta",selectServicesSearchPlaceholder:"Wpisz nazwę usługi",selectAssistantsSearchPlaceholder:"Wpisz imię asystenta",addServiceButtonLabel:"Dodaj usługę",addServiceMessage:"Proszę dodać usługi",selectExistingClientButtonLabel:"Wybierz istniejącego klienta",bookingDetailsTitle:"Szczegóły rezerwacji",totalTitle:"Całkowicie",transactionIdTitle:"Identyfikator transakcji",discountTitle:"Rabat/Upust",depositTitle:"Depozyt",dueTitle:"Wymagane do",editButtonLabel:"Edytuj rezerwację",reservationsCalendarTitle:"Kalendarz rezerwacji",noResultTimeslotsLabel:"Brak przedziałów czasowych ...",addReservationTitle:"Dodaj rezerwację",customersAddressBookTitle:"Książka adresowa klientów",goBackButtonLabel:"WRÓĆ",customersAddressBookNoResultLabel:"Nie znaleziono klientów ...",installPWAPromptText:"Dodaj do ekranu głównego ?",installPWAPromptInstallBtnLabel:"Zainstalować!",installPWAPromptNoInstallBtnLabel:"Nie, dziękuję",installPWAIOSText:"Zainstaluj tę aplikację na swoim iPhonie: dotknij menu, a następnie Dodaj do ekranu głównego",shopsTitle:"Wybierz sklep",shopsNoResultLabel:"Brak sklepów ...",shopTitleLabel:"Sklep"},lo={pendingPaymentStatusLabel:"Bekleyen ödeme",pendingStatusLabel:"Bekliyor",paidStatusLabel:"Ödendi",payLaterStatusLabel:"Sonra öde",errorStatusLabel:"Hata",canceledStatusLabel:"İptal edildi",confirmedStatusLabel:"Onaylandi",upcomingReservationsTitle:"Yaklaşan rezervasyonlar",upcomingReservationsNoResultLabel:"Yaklaşan rezervasyon yok ...",label8Hours:"8saat",label24Hours:"24saat",label3Days:"3gün",label1Week:"1hafta",allTitle:"Herşey",deleteBookingConfirmText:"Emin misin ?",deleteBookingButtonLabel:"Evet, sil",deleteBookingGoBackLabel:"Geri dön",editReservationTitle:"Edit the reservation",dateTitle:"tarih",timeTitle:"saat",customerFirstnamePlaceholder:"adı",customerLastnamePlaceholder:"soyadı",customerEmailPlaceholder:"e-posta",customerAddressPlaceholder:"adres",customerPhonePlaceholder:"telefon",customerNotesPlaceholder:"notlar",saveAsNewCustomerLabel:"Bu müşteriyi kaydet",extraInfoLabel:"Fazladan bilgi",addAndManageDiscountButtonLabel:"İndirim ekle ve yönet",selectDiscountLabel:"Bir indirim seçin",addDiscountButtonLabel:"Indirim ekle",saveButtonLabel:"Rezervasyonu kaydet",savedLabel:"Kaydedildi",validationMessage:"Lütfen gerekli alanları doldurunuz",selectServicesPlaceholder:"Hizmetleri seçin",selectAttendantsPlaceholder:"Bir asistan seçin",selectServicesSearchPlaceholder:"Hizmet adını yazın",selectAssistantsSearchPlaceholder:"Asistan adını yazın",addServiceButtonLabel:"Hizmet ekle",addServiceMessage:"Lütfen hizmet ekleyin",selectExistingClientButtonLabel:"Mevcut istemciyi seçin",bookingDetailsTitle:"Rezervasyon detayları",totalTitle:"Toplam",transactionIdTitle:"İşlem Kimliği",discountTitle:"İndirim",depositTitle:"Depozito",dueTitle:"Vadesi",editButtonLabel:"Rezervasyonu düzenle",reservationsCalendarTitle:"Rezervasyon takvimi",noResultTimeslotsLabel:"Zaman aralığı yok ...",addReservationTitle:"Rezervasyonu ekleyin",customersAddressBookTitle:"Müşteri adres defteri",goBackButtonLabel:"GERİ DÖN",customersAddressBookNoResultLabel:"Müşteri bulunamadı ...",installPWAPromptText:"Ana ekrana ekle?",installPWAPromptInstallBtnLabel:"Düzenlemek!",installPWAPromptNoInstallBtnLabel:"Hayır, teşekkürler",installPWAIOSText:"Bu uygulamayı iPhone'unuza yükleyin: menüye ve ardından Ana ekrana ekle'ye dokunun",shopsTitle:"Bir mağaza seçin",shopsNoResultLabel:"Dükkan yok ...",shopTitleLabel:"Mağaza"},no={pendingPaymentStatusLabel:"In afwachting van betaling",pendingStatusLabel:"In afwachting",paidStatusLabel:"Betaald",payLaterStatusLabel:"Betaal later",errorStatusLabel:"Fout",canceledStatusLabel:"Geannuleerd",confirmedStatusLabel:"Bevestigd",upcomingReservationsTitle:"Aankomende reserveringen",upcomingReservationsNoResultLabel:"Geen aankomende reserveringen ...",label8Hours:"8 uur",label24Hours:"24 uur",label3Days:"3 dagen",label1Week:"1 week",allTitle:"Allemaal",deleteBookingConfirmText:"Weet je het zeker ?",deleteBookingButtonLabel:"Ja, verwijderen",deleteBookingGoBackLabel:"Ga terug",editReservationTitle:"Bewerk de reservering",dateTitle:"datum",timeTitle:"tijd",customerFirstnamePlaceholder:"voornaam",customerLastnamePlaceholder:"achternaam",customerEmailPlaceholder:"e-mailadres",customerAddressPlaceholder:"adres",customerPhonePlaceholder:"telefoonnummer",customerNotesPlaceholder:"opmerkingen",saveAsNewCustomerLabel:"Bewaar deze klant",extraInfoLabel:"Extra info",addAndManageDiscountButtonLabel:"Korting toevoegen en beheren",selectDiscountLabel:"Selecteer een korting",addDiscountButtonLabel:"Voeg een korting toe",saveButtonLabel:"Boeking opslaan",savedLabel:"Opgeslagen",validationMessage:"Vul de verplichte velden in",selectServicesPlaceholder:"Selecteer diensten",selectAttendantsPlaceholder:"Kies een assistent",selectServicesSearchPlaceholder:"Typ servicenaam",selectAssistantsSearchPlaceholder:"Typ de naam van de assistent",addServiceButtonLabel:"Een dienst toevoegen",addServiceMessage:"Voeg diensten toe",selectExistingClientButtonLabel:"Selecteer bestaande klant",bookingDetailsTitle:"Boekingsdetails",totalTitle:"Totaal",transactionIdTitle:"Transactie ID",discountTitle:"Korting",depositTitle:"Voorschot",dueTitle:"Vanwege",editButtonLabel:"Boeking bewerken",reservationsCalendarTitle:"Reserveringskalender",noResultTimeslotsLabel:"Geen tijdsloten ...",addReservationTitle:"Voeg de reservering toe",customersAddressBookTitle:"Adresboek van klanten",goBackButtonLabel:"GA TERUG",customersAddressBookNoResultLabel:"Geen klanten gevonden ...",installPWAPromptText:"Toevoegen aan startscherm ?",installPWAPromptInstallBtnLabel:"Installeren!",installPWAPromptNoInstallBtnLabel:"Nee, dank u wel",installPWAIOSText:"Installeer deze app op je iPhone: tik op menu en vervolgens op Toevoegen aan startscherm",shopsTitle:"Selecteer een winkel",shopsNoResultLabel:"Geen winkels ...",shopTitleLabel:"Winkel"},ro={pendingPaymentStatusLabel:"Ausstehende zahlung",pendingStatusLabel:"Ausstehend",paidStatusLabel:"Bezahlt",payLaterStatusLabel:"Später zahlen",errorStatusLabel:"Fehler",canceledStatusLabel:"Abgebrochen",confirmedStatusLabel:"Bestätigt",upcomingReservationsTitle:"Kommende reservierungen",upcomingReservationsNoResultLabel:"Keine kommenden buchungen ...",label8Hours:"8 Std.",label24Hours:"24 Std.",label3Days:"3 Tage",label1Week:"1 Woche",allTitle:"Alle",deleteBookingConfirmText:"Bist du dir sicher ?",deleteBookingButtonLabel:"Ja, löschen",deleteBookingGoBackLabel:"Geh zurück",editReservationTitle:"Bearbeiten sie die reservierung",dateTitle:"datum",timeTitle:"zeit",customerFirstnamePlaceholder:"vorname",customerLastnamePlaceholder:"nachname",customerEmailPlaceholder:"e-mail",customerAddressPlaceholder:"anschrift",customerPhonePlaceholder:"telefone",customerNotesPlaceholder:"hinweise",saveAsNewCustomerLabel:"Speichern sie diesen kunden",extraInfoLabel:"Zusatzinformation",addAndManageDiscountButtonLabel:"Rabatt hinzufügen und verwalten",selectDiscountLabel:"Wählen sie einen rabatt aus",addDiscountButtonLabel:"Rabatt hinzufügen",saveButtonLabel:"Buchung speichern",savedLabel:"Gerettet",validationMessage:"Bitte füllen sie die erforderlichen felder aus",selectServicesPlaceholder:"Dienste auswählen",selectAttendantsPlaceholder:"Wählen sie einen assistenten aus",selectServicesSearchPlaceholder:"Geben sie den dienstnamen ein",selectAssistantsSearchPlaceholder:"Geben sie den namen des assistenten ein",addServiceButtonLabel:"Fügen sie einen dienst hinzu",addServiceMessage:"Bitte fügen sie leistungen hinzu",selectExistingClientButtonLabel:"Vorhandenen kunden auswählen",bookingDetailsTitle:"Buchungsdetails",totalTitle:"Gesamt",transactionIdTitle:"Transaktions ID",discountTitle:"Rabatt",depositTitle:"Anzahlung",dueTitle:"Fällig",editButtonLabel:"Buchung bearbeiten",reservationsCalendarTitle:"Reservierungskalender",noResultTimeslotsLabel:"Keine zeitfenster ...",addReservationTitle:"Reservierung hinzufügen",customersAddressBookTitle:"Adressbuch der kunden",goBackButtonLabel:"GEH ZURÜCK",customersAddressBookNoResultLabel:"Keine kunden gefunden ...",installPWAPromptText:"Zum startbildschirm hinzufügen ?",installPWAPromptInstallBtnLabel:"Installieren!",installPWAPromptNoInstallBtnLabel:"Nein danke",installPWAIOSText:"Installieren sie diese app auf ihrem iPhone: tippen sie auf menü und dann auf Zum startbildschirm hinzufügen",shopsTitle:"Wählen sie einen laden aus",shopsNoResultLabel:"Keine geschäfte ...",shopTitleLabel:"Geschäft"},uo={pendingPaymentStatusLabel:"In attesa di pagamento",pendingStatusLabel:"In attesa di",paidStatusLabel:"Pagato",payLaterStatusLabel:"Paga dopo",errorStatusLabel:"Errore",canceledStatusLabel:"Annullato",confirmedStatusLabel:"Confermato",upcomingReservationsTitle:"Prossime prenotazioni",upcomingReservationsNoResultLabel:"Nessuna prenotazione in arrivo ...",label8Hours:"8 ore",label24Hours:"24 ore",label3Days:"3 giorni",label1Week:"1 settimana",allTitle:"Tutto",deleteBookingConfirmText:"Sei sicuro ?",deleteBookingButtonLabel:"Sì, elimina",deleteBookingGoBackLabel:"Torna indietro",editReservationTitle:"Modifica la prenotazione",dateTitle:"data",timeTitle:"volta",customerFirstnamePlaceholder:"nome di battesimo",customerLastnamePlaceholder:"cognome",customerEmailPlaceholder:"e-mail",customerAddressPlaceholder:"indirizzo",customerPhonePlaceholder:"telefono",customerNotesPlaceholder:"appunti",saveAsNewCustomerLabel:"Salva questo cliente",extraInfoLabel:"Ulteriori informazioni",addAndManageDiscountButtonLabel:"Aggiungi e gestisci lo sconto",selectDiscountLabel:"Seleziona uno sconto",addDiscountButtonLabel:"Aggiungi uno sconto",saveButtonLabel:"Salva prenotazione",savedLabel:"Salvato",validationMessage:"Si prega di compilare i campi richiesti",selectServicesPlaceholder:"Seleziona i servizi",selectAttendantsPlaceholder:"Seleziona un assistente",selectServicesSearchPlaceholder:"Digitare il nome del servizio",selectAssistantsSearchPlaceholder:"Digita il nome dell'assistente",addServiceButtonLabel:"Aggiungi un servizio",addServiceMessage:"Si prega di aggiungere servizi",selectExistingClientButtonLabel:"Seleziona cliente esistente",bookingDetailsTitle:"Dettagli della prenotazione",totalTitle:"Totale",transactionIdTitle:"ID transazione",discountTitle:"Sconto",depositTitle:"Depositare",dueTitle:"Dovuto",editButtonLabel:"Modifica prenotazione",reservationsCalendarTitle:"Calendario delle prenotazioni",noResultTimeslotsLabel:"Nessuna fascia oraria ...",addReservationTitle:"Aggiungi la prenotazione",customersAddressBookTitle:"Rubrica clienti",goBackButtonLabel:"TORNA INDIETRO",customersAddressBookNoResultLabel:"Nessun cliente trovato ...",installPWAPromptText:"Aggiungere alla schermata home ?",installPWAPromptInstallBtnLabel:"Installare!",installPWAPromptNoInstallBtnLabel:"No grazie",installPWAIOSText:"Installa questa app sul tuo iPhone: tocca menu e poi Aggiungi a homescreen",shopsTitle:"Seleziona un negozio",shopsNoResultLabel:"Niente negozi ...",shopTitleLabel:"Negozio"},co={pendingPaymentStatusLabel:"Pagamento pendente",pendingStatusLabel:"Pendente",paidStatusLabel:"Pago",payLaterStatusLabel:"Pagar agora",errorStatusLabel:"Erro",canceledStatusLabel:"Cancelado",confirmedStatusLabel:"Confirmado",upcomingReservationsTitle:"Próximas reservas",upcomingReservationsNoResultLabel:"Sem reservas nas próximas horas ...",label8Hours:"8 horas",label24Hours:"24 horas",label3Days:"3 dias",label1Week:"1 semana",allTitle:"Todos",deleteBookingConfirmText:"Tens a certeza ?",deleteBookingButtonLabel:"Sim, eliminar",deleteBookingGoBackLabel:"Voltar atrás",editReservationTitle:"Editar reserva",dateTitle:"data",timeTitle:"hora",customerFirstnamePlaceholder:"nome",customerLastnamePlaceholder:"sobrenome",customerEmailPlaceholder:"e-mail",customerAddressPlaceholder:"morada",customerPhonePlaceholder:"telefone",customerNotesPlaceholder:"notas",saveAsNewCustomerLabel:"Guardar cliente",extraInfoLabel:" extra",addAndManageDiscountButtonLabel:"Adicionar e gerir descontos",selectDiscountLabel:"Escolha um desconto",addDiscountButtonLabel:"Adicionar desconto",saveButtonLabel:"Guardar reserva",savedLabel:"Reserva guardada",validationMessage:"Por favor, preencha campos obrigatórios ",selectServicesPlaceholder:"Seleccionar serviços",selectAttendantsPlaceholder:"Selecione um profissional",selectServicesSearchPlaceholder:"Escreva um serviço",selectAssistantsSearchPlaceholder:"Escreva o nome de um profissional",addServiceButtonLabel:"Adicionar serviços",addServiceMessage:"Por favor adicione serviços",selectExistingClientButtonLabel:"Seleccionar cliente existente",bookingDetailsTitle:"Detalhes da reserva",totalTitle:"Total",transactionIdTitle:"ID de transição",discountTitle:"Desconto",depositTitle:"Depósito",dueTitle:"Conta",editButtonLabel:"Editar reserva",reservationsCalendarTitle:"calendário de reservas",noResultTimeslotsLabel:"Não há intervalo de tempos ...",addReservationTitle:"adicionar reserva",customersAddressBookTitle:"morada do cliente",goBackButtonLabel:"VOLTAR",customersAddressBookNoResultLabel:"Não foi possível encontrar cliente ...",nstallPWAPromptText:"Adicionar ao ecrã principal?",installPWAPromptInstallBtnLabel:"¡Instalar!",installPWAPromptNoInstallBtnLabel:"Não, obrigado",installPWAIOSText:"Instale esta aplicacão no seu telefone: toque em menú e adicione ao ecrã",shopsTitle:"Selecione uma loja",shopsNoResultLabel:"Sem lojas ...",shopTitleLabel:"Comprar"};const mo=(0,to.o)({locale:window.slnPWA.locale,fallbackLocale:"en",messages:{en:so,es:ao,fr:oo,pl:io,tr:lo,nl:no,de:ro,it:uo,pt:co}});var ho=mo;Na.vI.add(Fa.Zrf,Fa.WRo,Ua.hVn,Fa.Y$T,Ua.SZw,Fa._tD,Fa.$aW,Fa.WA2,Fa.Yai,Fa.LEp,Fa.FVb,Fa.r8p,Fa.dWM,Fa.XSi,Fa.Wpq,Fa._su,Fa.tAh,Fa.byT,Fa.j1w,Fa.vto,Fa.EQ8,qa.VHX,Fa.vJI);var po=(0,a.ri)(Ma).use(Ha).use(Va.ZP).component("font-awesome-icon",$a.GN).component("Datepicker",Oa.Z).component("vue-select",eo.Z).mixin(Qa),bo=window.slnPWA.onesignal_app_id;bo&&po.use(Xa.Z,{appId:bo,serviceWorkerParam:{scope:"/{SLN_PWA_DIST_PATH}/"},serviceWorkerPath:"{SLN_PWA_DIST_PATH}/OneSignalSDKWorker.js"}),po.use(ho),po.mount("#app")}},t={};function s(a){var o=t[a];if(void 0!==o)return o.exports;var i=t[a]={id:a,loaded:!1,exports:{}};return e[a].call(i.exports,i,i.exports,s),i.loaded=!0,i.exports}s.m=e,function(){var e=[];s.O=function(t,a,o,i){if(!a){var l=1/0;for(u=0;u<e.length;u++){a=e[u][0],o=e[u][1],i=e[u][2];for(var n=!0,r=0;r<a.length;r++)(!1&i||l>=i)&&Object.keys(s.O).every((function(e){return s.O[e](a[r])}))?a.splice(r--,1):(n=!1,i<l&&(l=i));if(n){e.splice(u--,1);var d=o();void 0!==d&&(t=d)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[a,o,i]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){s.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){s.p="/{SLN_PWA_DIST_PATH}/"}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,a){var o,i,l=a[0],n=a[1],r=a[2],d=0;if(l.some((function(t){return 0!==e[t]}))){for(o in n)s.o(n,o)&&(s.m[o]=n[o]);if(r)var u=r(s)}for(t&&t(a);d<l.length;d++)i=l[d],s.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return s.O(u)},a=self["webpackChunksalon_booking_plugin_pwa"]=self["webpackChunksalon_booking_plugin_pwa"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=s.O(void 0,[998],(function(){return s(4107)}));a=s.O(a)})();
//# sourceMappingURL=app.js.map